<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="ROBOTS" content="ALL" />
    <meta name="MSSmartTagsPreventParsing" content="true" />
    <meta name="Copyright" content="Django Software Foundation" />
    <meta name="keywords" content="Python, Django, framework, open-source" />
    <meta name="description" content="" />
    <meta name="fediverse:creator" content="@django@fosstodon.org" />
    
  
    
      
    
  
  <link rel="canonical" href="https://docs.djangoproject.com/en/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="el"
          href="https://docs.djangoproject.com/el/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="en"
          href="https://docs.djangoproject.com/en/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="es"
          href="https://docs.djangoproject.com/es/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="fr"
          href="https://docs.djangoproject.com/fr/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="id"
          href="https://docs.djangoproject.com/id/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="it"
          href="https://docs.djangoproject.com/it/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="ja"
          href="https://docs.djangoproject.com/ja/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="ko"
          href="https://docs.djangoproject.com/ko/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="pl"
          href="https://docs.djangoproject.com/pl/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="pt-br"
          href="https://docs.djangoproject.com/pt-br/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="sv"
          href="https://docs.djangoproject.com/sv/6.0/topics/testing/tools/">
  
    
      
    
    <link rel="alternate"
          hreflang="zh-hans"
          href="https://docs.djangoproject.com/zh-hans/6.0/topics/testing/tools/">
  

  <link rel="search"
        type="application/opensearchdescription+xml"
        href="https://docs.djangoproject.com/en/6.0/search/description/"
        title="Django documentation">

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="https://static.djangoproject.com/img/icon-touch.e4872c4da341.png">
    <link rel="icon" sizes="192x192" href="https://static.djangoproject.com/img/icon-touch.e4872c4da341.png">
    <link rel="shortcut icon" href="https://static.djangoproject.com/img/favicon.6dbf28c0650e.ico">
    <meta name="msapplication-TileColor" content="#113228">
    <meta name="msapplication-TileImage" content="https://static.djangoproject.com/img/icon-tile.b01ac0ef9f67.png">
    <meta name="theme-color" content="#0C4B33">

    
      <meta property="og:title" content="Testing tools | Django documentation" />
      <meta property="og:description" content="The web framework for perfectionists with deadlines." />
      <meta property="og:image" content="https://static.djangoproject.com/img/logos/django-logo-negative.1d528e2cb5fb.png" />
      <meta property="og:image:alt" content="Django logo" />
      <meta property="og:image:width" content="1200" />
      <meta property="og:image:height" content="546" />
      <meta property="og:image:type" content="image/png"/>
      <meta property="og:url" content="https://docs.djangoproject.com/en/6.0/topics/testing/tools/" />
      <meta property="og:site_name" content="Django Project" />

      <meta property="twitter:creator" content="djangoproject" />
      <meta property="twitter:site" content="djangoproject" />
      <meta property="twitter:card" content="summary">
    

    <title>Testing tools | Django documentation | Django</title>

    <link rel="stylesheet" href="https://static.djangoproject.com/css/output.25597909843e.css" >

    <script src="https://static.djangoproject.com/js/mod/switch-dark-mode.139625c684db.js"></script>
    
  </head>

  <body id="generic" class="">

    <a href="#main-content" class="skip-link">Skip to main content</a>
    

<header id="top">
  <div class="container container--flex--wrap--mobile">
    <a class="logo" href="https://www.djangoproject.com/">Django</a>
    <p class="meta">The web framework for perfectionists with deadlines.</p>
    <div class="header-mobile-only">
      
<search class="search form-input" aria-labelledby="docs-search-label">
  <form action="https://docs.djangoproject.com/en/6.0/search/">
    <label id="docs-search-label" class="visuallyhidden" for="id_q">Search</label>
    <input type="search" name="q" placeholder="Search" id="id_q">
    <input type="hidden" name="category" value="">

    <button type="submit">
      <i class="icon icon-search" aria-hidden="true"></i>
      <span class="visuallyhidden">Submit</span>
    </button>
  </form>
</search>

      <div class="light-dark-mode-toggle">
        

<button class="theme-toggle">
  <div class="visually-hidden theme-label-when-auto">Toggle theme (current theme: auto)</div>
  <div class="visually-hidden theme-label-when-light">Toggle theme (current theme: light)</div>
  <div class="visually-hidden theme-label-when-dark">Toggle theme (current theme: dark)</div>

  <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
  <svg aria-hidden="true" class="theme-icon-when-auto">
    <use xlink:href="#icon-auto" />
  </svg>
  <svg aria-hidden="true" class="theme-icon-when-dark">
    <use xlink:href="#icon-moon" />
  </svg>
  <svg aria-hidden="true" class="theme-icon-when-light">
    <use xlink:href="#icon-sun" />
  </svg>
</button>

      </div>
    </div>
    <button class="menu-button">
      <i class="icon icon-reorder"></i>
      <span class="visuallyhidden">Menu</span>
    </button>
    <nav aria-labelledby="navigation-header">
      <span id="navigation-header" class="visuallyhidden">Main navigation</span>
      <ul>
        <li>
          <a href="https://www.djangoproject.com/start/overview/">Overview</a>
        </li>
        <li>
          <a href="https://www.djangoproject.com/download/">Download</a>
        </li>
        <li class="active">
          <a href="https://docs.djangoproject.com/">Documentation</a>
        </li>
        <li>
          <a href="https://www.djangoproject.com/weblog/">News</a>
        </li>
        <li>
          <a href="https://github.com/django/django" target="_blank" rel="noopener">Code</a>
        </li>
        <li>
          <a href="https://code.djangoproject.com/">Issues</a>
        </li>
        <li>
          <a href="https://www.djangoproject.com/community/">Community</a>
        </li>
        <li>
          <a href="https://www.djangoproject.com/foundation/">Foundation</a>
        </li>
        <li>
          <a href="https://www.djangoproject.com/fundraising/">&#9829; Donate</a>
        </li>
        <li>
          
<search class="search form-input" aria-labelledby="docs-search-label">
  <form action="https://docs.djangoproject.com/en/6.0/search/">
    <label id="docs-search-label" class="visuallyhidden" for="id_q">Search</label>
    <input type="search" name="q" placeholder="Search" id="id_q">
    <input type="hidden" name="category" value="">

    <button type="submit">
      <i class="icon icon-search" aria-hidden="true"></i>
      <span class="visuallyhidden">Submit</span>
    </button>
  </form>
</search>

        </li>
        <li>
          

<button class="theme-toggle">
  <div class="visually-hidden theme-label-when-auto">Toggle theme (current theme: auto)</div>
  <div class="visually-hidden theme-label-when-light">Toggle theme (current theme: light)</div>
  <div class="visually-hidden theme-label-when-dark">Toggle theme (current theme: dark)</div>

  <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
  <svg aria-hidden="true" class="theme-icon-when-auto">
    <use xlink:href="#icon-auto" />
  </svg>
  <svg aria-hidden="true" class="theme-icon-when-dark">
    <use xlink:href="#icon-moon" />
  </svg>
  <svg aria-hidden="true" class="theme-icon-when-light">
    <use xlink:href="#icon-sun" />
  </svg>
</button>

        </li>
      </ul>
    </nav>
  </div>
</header>

    

    <section class="copy-banner">
      <div class="container 
  container--flex container--flex--wrap--mobile
">
        
  <p><a href="https://docs.djangoproject.com/en/6.0/">Documentation</a></p>

      </div>
    </section>

    <div id="billboard">
      
        <div class="banner">
          <p>Help us reach our 2025 fundraising goal!</p>
          <small>
            Donate to the <em>Django Software Foundation</em> to fund Django's development, security, and community events!<br/>
            If you got value out of using Django this year, please consider making a donation &#9829;
          </small>
          <a class="cta" href="https://www.djangoproject.com/fundraising/">Donate today</a>
        </div>
      
    </div>

    <div class="container sidebar-right">
      <main id="main-content">

        
          
        

        
  <div id="version-switcher">
    <ul id="faq-link">
      <li class="current-link">
        <a href="https://docs.djangoproject.com/en/6.0/faq/help/">
          <span>Getting Help</span>
        </a>
      </li>
    </ul>
    <ul id="doc-languages" class="language-switcher doc-switcher">
      <li class="current">
        <button>Language: <strong>en</strong></button>
      </li>
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/el/6.0/topics/testing/tools/">el</a>
          </li>
        
      
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/es/6.0/topics/testing/tools/">es</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/fr/6.0/topics/testing/tools/">fr</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/id/6.0/topics/testing/tools/">id</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/it/6.0/topics/testing/tools/">it</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/ja/6.0/topics/testing/tools/">ja</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/ko/6.0/topics/testing/tools/">ko</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/pl/6.0/topics/testing/tools/">pl</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/pt-br/6.0/topics/testing/tools/">pt-br</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/sv/6.0/topics/testing/tools/">sv</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/zh-hans/6.0/topics/testing/tools/">zh-hans</a>
          </li>
        
      
    </ul>

    
    <ul id="doc-versions" class="version-switcher doc-switcher">
      <li class="current ">
        <button>Documentation version:
          <strong>6.0</strong>
        </button>
      </li>
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/1.8/topics/testing/tools/">1.8</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/1.10/topics/testing/tools/">1.10</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/1.11/topics/testing/tools/">1.11</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/2.0/topics/testing/tools/">2.0</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/">2.1</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/2.2/topics/testing/tools/">2.2</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/3.0/topics/testing/tools/">3.0</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/3.1/topics/testing/tools/">3.1</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/3.2/topics/testing/tools/">3.2</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/4.0/topics/testing/tools/">4.0</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/4.1/topics/testing/tools/">4.1</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/4.2/topics/testing/tools/">4.2</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/5.0/topics/testing/tools/">5.0</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/5.1/topics/testing/tools/">5.1</a>
          </li>
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/5.2/topics/testing/tools/">5.2</a>
          </li>
        
      
        
      
        
          <li class="other">
            
              
            
            <a href="https://docs.djangoproject.com/en/dev/topics/testing/tools/">dev</a>
          </li>
        
      
    </ul>
    <ul id="backtotop-link">
      <li class="current-link">
        <a href="#top" aria-label="Back to top" class="icon-chevron-up-align"><i class="icon icon-chevron-up"></i></a>
      </li>
    </ul>
  </div>

  
    <article id="docs-content">
      <section id="s-testing-tools">
<span id="testing-tools"></span><h1>Testing tools<a class="headerlink" href="#testing-tools" title="Link to this heading">¶</a></h1>
<p>Django provides a small set of tools that come in handy when writing tests.</p>
<section id="s-the-test-client">
<span id="s-test-client"></span><span id="the-test-client"></span><span id="test-client"></span><h2>The test client<a class="headerlink" href="#the-test-client" title="Link to this heading">¶</a></h2>
<p>The test client is a Python class that acts as a dummy web browser, allowing
you to test your views and interact with your Django-powered application
programmatically.</p>
<p>Some of the things you can do with the test client are:</p>
<ul class="simple">
<li><p>Simulate GET and POST requests on a URL and observe the response –
everything from low-level HTTP (result headers and status codes) to
page content.</p></li>
<li><p>See the chain of redirects (if any) and check the URL and status code at
each step.</p></li>
<li><p>Test that a given request is rendered by a given Django template, with
a template context that contains certain values.</p></li>
</ul>
<p>Note that the test client is not intended to be a replacement for <a class="reference external" href="https://www.selenium.dev/">Selenium</a> or
other “in-browser” frameworks. Django’s test client has a different focus. In
short:</p>
<ul class="simple">
<li><p>Use Django’s test client to establish that the correct template is being
rendered and that the template is passed the correct context data.</p></li>
<li><p>Use <a class="reference internal" href="../advanced/#django.test.RequestFactory" title="django.test.RequestFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">RequestFactory</span></code></a> to test view functions directly,
bypassing the routing and middleware layers.</p></li>
<li><p>Use in-browser frameworks like <a class="reference external" href="https://www.selenium.dev/">Selenium</a> to test <em>rendered</em> HTML and the
<em>behavior</em> of web pages, namely JavaScript functionality. Django also
provides special support for those frameworks; see the section on
<a class="reference internal" href="#django.test.LiveServerTestCase" title="django.test.LiveServerTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">LiveServerTestCase</span></code></a> for more details.</p></li>
</ul>
<p>A comprehensive test suite should use a combination of all of these test types.</p>
<section id="s-overview-and-a-quick-example">
<span id="overview-and-a-quick-example"></span><h3>Overview and a quick example<a class="headerlink" href="#overview-and-a-quick-example" title="Link to this heading">¶</a></h3>
<p>To use the test client, instantiate <code class="docutils literal notranslate"><span class="pre">django.test.Client</span></code> and retrieve
web pages:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/login/&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;john&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;smith&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/customer/details/&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">content</span>
<span class="go">b&#39;&lt;!DOCTYPE html...&#39;</span>
</pre></div>
</div>
<p>As this example suggests, you can instantiate <code class="docutils literal notranslate"><span class="pre">Client</span></code> from within a session
of the Python interactive interpreter.</p>
<p>Note a few important things about how the test client works:</p>
<ul>
<li><p>The test client does <em>not</em> require the web server to be running. In fact,
it will run just fine with no web server running at all! That’s because
it avoids the overhead of HTTP and deals directly with the Django
framework. This helps make the unit tests run quickly.</p></li>
<li><p>When retrieving pages, remember to specify the <em>path</em> of the URL, not the
whole domain. For example, this is correct:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/login/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is incorrect:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://www.example.com/login/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The test client is not capable of retrieving web pages that are not
powered by your Django project. If you need to retrieve other web pages,
use a Python standard library module such as <a class="reference external" href="https://docs.python.org/3/library/urllib.html#module-urllib" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib</span></code></a>.</p>
</li>
<li><p>To resolve URLs, the test client uses whatever URLconf is pointed-to by
your <a class="reference internal" href="../../../ref/settings/#std-setting-ROOT_URLCONF"><code class="xref std std-setting docutils literal notranslate"><span class="pre">ROOT_URLCONF</span></code></a> setting.</p></li>
<li><p>Although the above example would work in the Python interactive
interpreter, some of the test client’s functionality, notably the
template-related functionality, is only available <em>while tests are
running</em>.</p>
<p>The reason for this is that Django’s test runner performs a bit of black
magic in order to determine which template was loaded by a given view.
This black magic (essentially a patching of Django’s template system in
memory) only happens during test running.</p>
</li>
<li><p>By default, the test client will disable any CSRF checks
performed by your site.</p>
<p>If, for some reason, you <em>want</em> the test client to perform CSRF
checks, you can create an instance of the test client that
enforces CSRF checks. To do this, pass in the
<code class="docutils literal notranslate"><span class="pre">enforce_csrf_checks</span></code> argument when you construct your
client:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csrf_client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">enforce_csrf_checks</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="s-making-requests">
<span id="making-requests"></span><h3>Making requests<a class="headerlink" href="#making-requests" title="Link to this heading">¶</a></h3>
<p>Use the <code class="docutils literal notranslate"><span class="pre">django.test.Client</span></code> class to make requests.</p>
<dl class="py class">
<dt class="sig sig-object py" id="django.test.Client">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Client</span></span>(<em class="sig-param"><span class="n"><span class="pre">enforce_csrf_checks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_request_exception</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_encoder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DjangoJSONEncoder</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">defaults</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/client.py#L1028"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.Client" title="Link to this definition">¶</a></dt>
<dd><p>A testing HTTP client. Takes several arguments that can customize behavior.</p>
<p><code class="docutils literal notranslate"><span class="pre">headers</span></code> allows you to specify default headers that will be sent with
every request. For example, to set a <code class="docutils literal notranslate"><span class="pre">User-Agent</span></code> header:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;user-agent&quot;</span><span class="p">:</span> <span class="s2">&quot;curl/7.79.1&quot;</span><span class="p">})</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">query_params</span></code> allows you to specify the default query string that will
be set on every request.</p>
<p>Arbitrary keyword arguments in <code class="docutils literal notranslate"><span class="pre">**defaults</span></code> set WSGI
<span class="target" id="index-0"></span><a class="pep reference external" href="https://peps.python.org/pep-3333/#environ-variables"><strong>environ variables</strong></a>. For example, to set the
script name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">SCRIPT_NAME</span><span class="o">=</span><span class="s2">&quot;/app/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keyword arguments starting with a <code class="docutils literal notranslate"><span class="pre">HTTP_</span></code> prefix are set as headers,
but the <code class="docutils literal notranslate"><span class="pre">headers</span></code> parameter should be preferred for readability.</p>
</div>
<p>The values from the <code class="docutils literal notranslate"><span class="pre">headers</span></code>, <code class="docutils literal notranslate"><span class="pre">query_params</span></code>, and <code class="docutils literal notranslate"><span class="pre">extra</span></code> keyword
arguments passed to <a class="reference internal" href="#django.test.Client.get" title="django.test.Client.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code></a>,
<a class="reference internal" href="#django.test.Client.post" title="django.test.Client.post"><code class="xref py py-meth docutils literal notranslate"><span class="pre">post()</span></code></a>, etc. have precedence over
the defaults passed to the class constructor.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">enforce_csrf_checks</span></code> argument can be used to test CSRF
protection (see above).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">raise_request_exception</span></code> argument allows controlling whether or not
exceptions raised during the request should also be raised in the test.
Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">json_encoder</span></code> argument allows setting a custom JSON encoder for
the JSON serialization that’s described in <a class="reference internal" href="#django.test.Client.post" title="django.test.Client.post"><code class="xref py py-meth docutils literal notranslate"><span class="pre">post()</span></code></a>.</p>
<p>Once you have a <code class="docutils literal notranslate"><span class="pre">Client</span></code> instance, you can call any of the following
methods:</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.get">
<span class="sig-name descname"><span class="pre">get</span></span>(<em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/client.py#L1110"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.Client.get" title="Link to this definition">¶</a></dt>
<dd><p>Makes a GET request on the provided <code class="docutils literal notranslate"><span class="pre">path</span></code> and returns a <code class="docutils literal notranslate"><span class="pre">Response</span></code>
object, which is documented below.</p>
<p>The key-value pairs in the <code class="docutils literal notranslate"><span class="pre">query_params</span></code> dictionary are used to set
query strings. For example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/customers/details/&quot;</span><span class="p">,</span> <span class="n">query_params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;fred&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">})</span>
</pre></div>
</div>
<p>…will result in the evaluation of a GET request equivalent to:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/customers/details/?name=fred&amp;age=7
</pre></div>
</div>
<p>It is also possible to pass these parameters into the <code class="docutils literal notranslate"><span class="pre">data</span></code>
parameter. However, <code class="docutils literal notranslate"><span class="pre">query_params</span></code> is preferred as it works for any
HTTP method.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">headers</span></code> parameter can be used to specify headers to be sent in
the request. For example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;/customers/details/&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">query_params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;fred&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">},</span>
<span class="gp">... </span>    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>…will send the HTTP header <code class="docutils literal notranslate"><span class="pre">HTTP_ACCEPT</span></code> to the details view, which
is a good way to test code paths that use the
<a class="reference internal" href="../../../ref/request-response/#django.http.HttpRequest.accepts" title="django.http.HttpRequest.accepts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">django.http.HttpRequest.accepts()</span></code></a> method.</p>
<p>Arbitrary keyword arguments set WSGI
<span class="target" id="index-1"></span><a class="pep reference external" href="https://peps.python.org/pep-3333/#environ-variables"><strong>environ variables</strong></a>. For example, headers
to set the script name:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">SCRIPT_NAME</span><span class="o">=</span><span class="s2">&quot;/app/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you already have the GET arguments in URL-encoded form, you can
use that encoding instead of using the data argument. For example,
the previous GET request could also be posed as:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/customers/details/?name=fred&amp;age=7&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you provide a URL with both an encoded GET data and either a
query_params or data argument these arguments will take precedence.</p>
<p>If you set <code class="docutils literal notranslate"><span class="pre">follow</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> the client will follow any redirects
and a <code class="docutils literal notranslate"><span class="pre">redirect_chain</span></code> attribute will be set in the response object
containing tuples of the intermediate urls and status codes.</p>
<p>If you had a URL <code class="docutils literal notranslate"><span class="pre">/redirect_me/</span></code> that redirected to <code class="docutils literal notranslate"><span class="pre">/next/</span></code>, that
redirected to <code class="docutils literal notranslate"><span class="pre">/final/</span></code>, this is what you’d see:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/redirect_me/&quot;</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">redirect_chain</span>
<span class="go">[(&#39;http://testserver/next/&#39;, 302), (&#39;http://testserver/final/&#39;, 302)]</span>
</pre></div>
</div>
<p>If you set <code class="docutils literal notranslate"><span class="pre">secure</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> the client will emulate an HTTPS
request.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.post">
<span class="sig-name descname"><span class="pre">post</span></span>(<em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">MULTIPART_CONTENT</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/client.py#L1138"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.Client.post" title="Link to this definition">¶</a></dt>
<dd><p>Makes a POST request on the provided <code class="docutils literal notranslate"><span class="pre">path</span></code> and returns a
<code class="docutils literal notranslate"><span class="pre">Response</span></code> object, which is documented below.</p>
<p>The key-value pairs in the <code class="docutils literal notranslate"><span class="pre">data</span></code> dictionary are used to submit POST
data. For example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/login/&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;fred&quot;</span><span class="p">,</span> <span class="s2">&quot;passwd&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">})</span>
</pre></div>
</div>
<p>…will result in the evaluation of a POST request to this URL:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/login/
</pre></div>
</div>
<p>…with this POST data:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>name=fred&amp;passwd=secret
</pre></div>
</div>
<p>If you provide <code class="docutils literal notranslate"><span class="pre">content_type</span></code> as <em class="mimetype">application/json</em>, the
<code class="docutils literal notranslate"><span class="pre">data</span></code> is serialized using <a class="reference external" href="https://docs.python.org/3/library/json.html#json.dumps" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.dumps()</span></code></a> if it’s a dict, list,
or tuple. Serialization is performed with
<a class="reference internal" href="../../serialization/#django.core.serializers.json.DjangoJSONEncoder" title="django.core.serializers.json.DjangoJSONEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">DjangoJSONEncoder</span></code></a> by default,
and can be overridden by providing a <code class="docutils literal notranslate"><span class="pre">json_encoder</span></code> argument to
<a class="reference internal" href="#django.test.Client" title="django.test.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>. This serialization also happens for <a class="reference internal" href="#django.test.Client.put" title="django.test.Client.put"><code class="xref py py-meth docutils literal notranslate"><span class="pre">put()</span></code></a>,
<a class="reference internal" href="#django.test.Client.patch" title="django.test.Client.patch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">patch()</span></code></a>, and <a class="reference internal" href="#django.test.Client.delete" title="django.test.Client.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete()</span></code></a> requests.</p>
<p>If you provide any other <code class="docutils literal notranslate"><span class="pre">content_type</span></code> (e.g. <em class="mimetype">text/xml</em>
for an XML payload), the contents of <code class="docutils literal notranslate"><span class="pre">data</span></code> are sent as-is in the
POST request, using <code class="docutils literal notranslate"><span class="pre">content_type</span></code> in the HTTP <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code>
header.</p>
<p>If you don’t provide a value for <code class="docutils literal notranslate"><span class="pre">content_type</span></code>, the values in
<code class="docutils literal notranslate"><span class="pre">data</span></code> will be transmitted with a content type of
<em class="mimetype">multipart/form-data</em>. In this case, the key-value pairs in
<code class="docutils literal notranslate"><span class="pre">data</span></code> will be encoded as a multipart message and used to create the
POST data payload.</p>
<p>To submit multiple values for a given key – for example, to specify
the selections for a <code class="docutils literal notranslate"><span class="pre">&lt;select</span> <span class="pre">multiple&gt;</span></code> – provide the values as a
list or tuple for the required key. For example, this value of <code class="docutils literal notranslate"><span class="pre">data</span></code>
would submit three selected values for the field named <code class="docutils literal notranslate"><span class="pre">choices</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">]}</span>
</pre></div>
</div>
<p>Submitting files is a special case. To POST a file, you need only
provide the file field name as a key, and a file handle to the file you
wish to upload as a value. For example, if your form has fields
<code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">attachment</span></code>, the latter a
<a class="reference internal" href="../../../ref/forms/fields/#django.forms.FileField" title="django.forms.FileField"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileField</span></code></a>:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;wishlist.doc&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/customers/wishes/&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;fred&quot;</span><span class="p">,</span> <span class="s2">&quot;attachment&quot;</span><span class="p">:</span> <span class="n">fp</span><span class="p">})</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>You may also provide any file-like object (e.g., <a class="reference external" href="https://docs.python.org/3/library/io.html#io.StringIO" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringIO</span></code></a>
or <a class="reference external" href="https://docs.python.org/3/library/io.html#io.BytesIO" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesIO</span></code></a>) as a file handle. If you’re uploading to an
<a class="reference internal" href="../../../ref/models/fields/#django.db.models.ImageField" title="django.db.models.ImageField"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageField</span></code></a>, the object needs a <code class="docutils literal notranslate"><span class="pre">name</span></code>
attribute that passes the
<a class="reference internal" href="../../../ref/validators/#django.core.validators.validate_image_file_extension" title="django.core.validators.validate_image_file_extension"><code class="xref py py-data docutils literal notranslate"><span class="pre">validate_image_file_extension</span></code></a>
validator. For example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">io</span><span class="w"> </span><span class="kn">import</span> <span class="n">BytesIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">(</span>
<span class="gp">... </span>    <span class="sa">b</span><span class="s2">&quot;GIF89a</span><span class="se">\x01\x00\x01\x00\x00\x00\x00</span><span class="s2">!</span><span class="se">\xf9\x04\x01\x00\x00\x00</span><span class="s2">&quot;</span>
<span class="gp">... </span>    <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x00</span><span class="s2">,</span><span class="se">\x00\x00\x00\x00\x01\x00\x01\x00\x00\x02\x01\x00\x00</span><span class="s2">&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;myimage.gif&quot;</span>
</pre></div>
</div>
<p>Note that if you wish to use the same file handle for multiple
<code class="docutils literal notranslate"><span class="pre">post()</span></code> calls then you will need to manually reset the file
pointer between posts. The easiest way to do this is to
manually close the file after it has been provided to
<code class="docutils literal notranslate"><span class="pre">post()</span></code>, as demonstrated above.</p>
<p>You should also ensure that the file is opened in a way that
allows the data to be read. If your file contains binary data
such as an image, this means you will need to open the file in
<code class="docutils literal notranslate"><span class="pre">rb</span></code> (read binary) mode.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">headers</span></code>, <code class="docutils literal notranslate"><span class="pre">query_params</span></code>, and <code class="docutils literal notranslate"><span class="pre">extra</span></code> parameters acts the
same as for <a class="reference internal" href="#django.test.Client.get" title="django.test.Client.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get()</span></code></a>.</p>
<p>If the URL you request with a POST contains encoded parameters, these
parameters will be made available in the request.GET data. For example,
if you were to make the request:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;/login/&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;fred&quot;</span><span class="p">,</span> <span class="s2">&quot;passwd&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">},</span> <span class="n">query_params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;visitor&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>… the view handling this request could interrogate request.POST to
retrieve the username and password, and could interrogate request.GET
to determine if the user was a visitor.</p>
<p>If you set <code class="docutils literal notranslate"><span class="pre">follow</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> the client will follow any redirects
and a <code class="docutils literal notranslate"><span class="pre">redirect_chain</span></code> attribute will be set in the response object
containing tuples of the intermediate urls and status codes.</p>
<p>If you set <code class="docutils literal notranslate"><span class="pre">secure</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> the client will emulate an HTTPS
request.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.head">
<span class="sig-name descname"><span class="pre">head</span></span>(<em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/client.py#L1173"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.Client.head" title="Link to this definition">¶</a></dt>
<dd><p>Makes a HEAD request on the provided <code class="docutils literal notranslate"><span class="pre">path</span></code> and returns a
<code class="docutils literal notranslate"><span class="pre">Response</span></code> object. This method works just like <a class="reference internal" href="#django.test.Client.get" title="django.test.Client.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get()</span></code></a>,
including the <code class="docutils literal notranslate"><span class="pre">follow</span></code>, <code class="docutils literal notranslate"><span class="pre">secure</span></code>, <code class="docutils literal notranslate"><span class="pre">headers</span></code>, <code class="docutils literal notranslate"><span class="pre">query_params</span></code>,
and <code class="docutils literal notranslate"><span class="pre">extra</span></code> parameters, except it does not return a message body.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.options">
<span class="sig-name descname"><span class="pre">options</span></span>(<em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'application/octet-stream'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/client.py#L1201"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.Client.options" title="Link to this definition">¶</a></dt>
<dd><p>Makes an OPTIONS request on the provided <code class="docutils literal notranslate"><span class="pre">path</span></code> and returns a
<code class="docutils literal notranslate"><span class="pre">Response</span></code> object. Useful for testing RESTful interfaces.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">data</span></code> is provided, it is used as the request body, and
a <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header is set to <code class="docutils literal notranslate"><span class="pre">content_type</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">follow</span></code>, <code class="docutils literal notranslate"><span class="pre">secure</span></code>, <code class="docutils literal notranslate"><span class="pre">headers</span></code>, <code class="docutils literal notranslate"><span class="pre">query_params</span></code>, and
<code class="docutils literal notranslate"><span class="pre">extra</span></code> parameters act the same as for <a class="reference internal" href="#django.test.Client.get" title="django.test.Client.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.put">
<span class="sig-name descname"><span class="pre">put</span></span>(<em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'application/octet-stream'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/client.py#L1236"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.Client.put" title="Link to this definition">¶</a></dt>
<dd><p>Makes a PUT request on the provided <code class="docutils literal notranslate"><span class="pre">path</span></code> and returns a
<code class="docutils literal notranslate"><span class="pre">Response</span></code> object. Useful for testing RESTful interfaces.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">data</span></code> is provided, it is used as the request body, and
a <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header is set to <code class="docutils literal notranslate"><span class="pre">content_type</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">follow</span></code>, <code class="docutils literal notranslate"><span class="pre">secure</span></code>, <code class="docutils literal notranslate"><span class="pre">headers</span></code>, <code class="docutils literal notranslate"><span class="pre">query_params</span></code>, and
<code class="docutils literal notranslate"><span class="pre">extra</span></code> parameters act the same as for <a class="reference internal" href="#django.test.Client.get" title="django.test.Client.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.patch">
<span class="sig-name descname"><span class="pre">patch</span></span>(<em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'application/octet-stream'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/client.py#L1271"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.Client.patch" title="Link to this definition">¶</a></dt>
<dd><p>Makes a PATCH request on the provided <code class="docutils literal notranslate"><span class="pre">path</span></code> and returns a
<code class="docutils literal notranslate"><span class="pre">Response</span></code> object. Useful for testing RESTful interfaces.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">follow</span></code>, <code class="docutils literal notranslate"><span class="pre">secure</span></code>, <code class="docutils literal notranslate"><span class="pre">headers</span></code>, <code class="docutils literal notranslate"><span class="pre">query_params</span></code>, and
<code class="docutils literal notranslate"><span class="pre">extra</span></code> parameters act the same as for <a class="reference internal" href="#django.test.Client.get" title="django.test.Client.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.delete">
<span class="sig-name descname"><span class="pre">delete</span></span>(<em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'application/octet-stream'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/client.py#L1306"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.Client.delete" title="Link to this definition">¶</a></dt>
<dd><p>Makes a DELETE request on the provided <code class="docutils literal notranslate"><span class="pre">path</span></code> and returns a
<code class="docutils literal notranslate"><span class="pre">Response</span></code> object. Useful for testing RESTful interfaces.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">data</span></code> is provided, it is used as the request body, and
a <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header is set to <code class="docutils literal notranslate"><span class="pre">content_type</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">follow</span></code>, <code class="docutils literal notranslate"><span class="pre">secure</span></code>, <code class="docutils literal notranslate"><span class="pre">headers</span></code>, <code class="docutils literal notranslate"><span class="pre">query_params</span></code>, and
<code class="docutils literal notranslate"><span class="pre">extra</span></code> parameters act the same as for <a class="reference internal" href="#django.test.Client.get" title="django.test.Client.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.trace">
<span class="sig-name descname"><span class="pre">trace</span></span>(<em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/client.py#L1341"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.Client.trace" title="Link to this definition">¶</a></dt>
<dd><p>Makes a TRACE request on the provided <code class="docutils literal notranslate"><span class="pre">path</span></code> and returns a
<code class="docutils literal notranslate"><span class="pre">Response</span></code> object. Useful for simulating diagnostic probes.</p>
<p>Unlike the other request methods, <code class="docutils literal notranslate"><span class="pre">data</span></code> is not provided as a keyword
parameter in order to comply with <span class="target" id="index-2"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-9.3.8"><strong>RFC 9110 Section 9.3.8</strong></a>, which
mandates that TRACE requests must not have a body.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">follow</span></code>, <code class="docutils literal notranslate"><span class="pre">secure</span></code>, <code class="docutils literal notranslate"><span class="pre">headers</span></code>, <code class="docutils literal notranslate"><span class="pre">query_params</span></code>, and
<code class="docutils literal notranslate"><span class="pre">extra</span></code> parameters act the same as for <a class="reference internal" href="#django.test.Client.get" title="django.test.Client.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.login">
<span class="sig-name descname"><span class="pre">login</span></span>(<em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">credentials</span></span></em>)<a class="headerlink" href="#django.test.Client.login" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.alogin">
<span class="sig-name descname"><span class="pre">alogin</span></span>(<em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">credentials</span></span></em>)<a class="headerlink" href="#django.test.Client.alogin" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">alogin()</span></code></p>
<p>If your site uses Django’s
<a class="reference internal" href="../../auth/"><span class="doc">authentication system</span></a> and you deal with
logging in users, you can use the test client’s <code class="docutils literal notranslate"><span class="pre">login()</span></code> method to
simulate the effect of a user logging into the site.</p>
<p>After you call this method, the test client will have all the cookies
and session data required to pass any login-based tests that may form
part of a view.</p>
<p>The format of the <code class="docutils literal notranslate"><span class="pre">credentials</span></code> argument depends on which
<a class="reference internal" href="../../auth/customizing/#authentication-backends"><span class="std std-ref">authentication backend</span></a> you’re using
(which is configured by your <a class="reference internal" href="../../../ref/settings/#std-setting-AUTHENTICATION_BACKENDS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">AUTHENTICATION_BACKENDS</span></code></a>
setting). If you’re using the standard authentication backend provided
by Django (<code class="docutils literal notranslate"><span class="pre">ModelBackend</span></code>), <code class="docutils literal notranslate"><span class="pre">credentials</span></code> should be the user’s
username and password, provided as keyword arguments:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;fred&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;secret&quot;</span><span class="p">)</span>

<span class="go"># Now you can access a view that&#39;s only available to logged-in users.</span>
</pre></div>
</div>
<p>If you’re using a different authentication backend, this method may
require different credentials. It requires whichever credentials are
required by your backend’s <code class="docutils literal notranslate"><span class="pre">authenticate()</span></code> method.</p>
<p><code class="docutils literal notranslate"><span class="pre">login()</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if it the credentials were accepted and
login was successful.</p>
<p>Finally, you’ll need to remember to create user accounts before you can
use this method. As we explained above, the test runner is executed
using a test database, which contains no users by default. As a result,
user accounts that are valid on your production site will not work
under test conditions. You’ll need to create users as part of the test
suite – either manually (using the Django model API) or with a test
fixture. Remember that if you want your test user to have a password,
you can’t set the user’s password by setting the password attribute
directly – you must use the
<a class="reference internal" href="../../../ref/contrib/auth/#django.contrib.auth.models.User.set_password" title="django.contrib.auth.models.User.set_password"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_password()</span></code></a> function to
store a correctly hashed password. Alternatively, you can use the
<a class="reference internal" href="../../../ref/contrib/auth/#django.contrib.auth.models.UserManager.create_user" title="django.contrib.auth.models.UserManager.create_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_user()</span></code></a> helper
method to create a new user with a correctly hashed password.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.force_login">
<span class="sig-name descname"><span class="pre">force_login</span></span>(<em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#django.test.Client.force_login" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.aforce_login">
<span class="sig-name descname"><span class="pre">aforce_login</span></span>(<em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#django.test.Client.aforce_login" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">aforce_login()</span></code></p>
<p>If your site uses Django’s <a class="reference internal" href="../../auth/"><span class="doc">authentication
system</span></a>, you can use the <code class="docutils literal notranslate"><span class="pre">force_login()</span></code> method
to simulate the effect of a user logging into the site. Use this method
instead of <a class="reference internal" href="#django.test.Client.login" title="django.test.Client.login"><code class="xref py py-meth docutils literal notranslate"><span class="pre">login()</span></code></a> when a test requires a user be logged in and
the details of how a user logged in aren’t important.</p>
<p>Unlike <code class="docutils literal notranslate"><span class="pre">login()</span></code>, this method skips the authentication and
verification steps: inactive users (<a class="reference internal" href="../../../ref/contrib/auth/#django.contrib.auth.models.User.is_active" title="django.contrib.auth.models.User.is_active"><code class="xref py py-attr docutils literal notranslate"><span class="pre">is_active=False</span></code></a>) are permitted to login
and the user’s credentials don’t need to be provided.</p>
<p>The user will have its <code class="docutils literal notranslate"><span class="pre">backend</span></code> attribute set to the value of the
<code class="docutils literal notranslate"><span class="pre">backend</span></code> argument (which should be a dotted Python path string), or
to <code class="docutils literal notranslate"><span class="pre">settings.AUTHENTICATION_BACKENDS[0]</span></code> if a value isn’t provided.
The <a class="reference internal" href="../../auth/default/#django.contrib.auth.authenticate" title="django.contrib.auth.authenticate"><code class="xref py py-func docutils literal notranslate"><span class="pre">authenticate()</span></code></a> function called by
<a class="reference internal" href="#django.test.Client.login" title="django.test.Client.login"><code class="xref py py-meth docutils literal notranslate"><span class="pre">login()</span></code></a> normally annotates the user like this.</p>
<p>This method is faster than <code class="docutils literal notranslate"><span class="pre">login()</span></code> since the expensive
password hashing algorithms are bypassed. Also, you can speed up
<code class="docutils literal notranslate"><span class="pre">login()</span></code> by <a class="reference internal" href="../overview/#speeding-up-tests-auth-hashers"><span class="std std-ref">using a weaker hasher while testing</span></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.logout">
<span class="sig-name descname"><span class="pre">logout</span></span>()<a class="headerlink" href="#django.test.Client.logout" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.alogout">
<span class="sig-name descname"><span class="pre">alogout</span></span>()<a class="headerlink" href="#django.test.Client.alogout" title="Link to this definition">¶</a></dt>
<dd><p><em>Asynchronous version</em>: <code class="docutils literal notranslate"><span class="pre">alogout()</span></code></p>
<p>If your site uses Django’s
<a class="reference internal" href="../../auth/"><span class="doc">authentication system</span></a>, the <code class="docutils literal notranslate"><span class="pre">logout()</span></code>
method can be used to simulate the effect of a user logging out of your
site.</p>
<p>After you call this method, the test client will have all the cookies
and session data cleared to defaults. Subsequent requests will appear
to come from an <a class="reference internal" href="../../../ref/contrib/auth/#django.contrib.auth.models.AnonymousUser" title="django.contrib.auth.models.AnonymousUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">AnonymousUser</span></code></a>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="s-testing-responses">
<span id="testing-responses"></span><h3>Testing responses<a class="headerlink" href="#testing-responses" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">get()</span></code> and <code class="docutils literal notranslate"><span class="pre">post()</span></code> methods both return a <code class="docutils literal notranslate"><span class="pre">Response</span></code> object. This
<code class="docutils literal notranslate"><span class="pre">Response</span></code> object is <em>not</em> the same as the <code class="docutils literal notranslate"><span class="pre">HttpResponse</span></code> object returned
by Django views; the test response object has some additional data useful for
test code to verify.</p>
<p>Specifically, a <code class="docutils literal notranslate"><span class="pre">Response</span></code> object has the following attributes:</p>
<dl class="py class">
<dt class="sig sig-object py" id="django.test.Response">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Response</span></span><a class="headerlink" href="#django.test.Response" title="Link to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="django.test.Response.client">
<span class="sig-name descname"><span class="pre">client</span></span><a class="headerlink" href="#django.test.Response.client" title="Link to this definition">¶</a></dt>
<dd><p>The test client that was used to make the request that resulted in the
response.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.Response.content">
<span class="sig-name descname"><span class="pre">content</span></span><a class="headerlink" href="#django.test.Response.content" title="Link to this definition">¶</a></dt>
<dd><p>The body of the response, as a bytestring. This is the final page
content as rendered by the view, or any error message.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.Response.context">
<span class="sig-name descname"><span class="pre">context</span></span><a class="headerlink" href="#django.test.Response.context" title="Link to this definition">¶</a></dt>
<dd><p>The template <code class="docutils literal notranslate"><span class="pre">Context</span></code> instance that was used to render the template
that produced the response content.</p>
<p>If the rendered page used multiple templates, then <code class="docutils literal notranslate"><span class="pre">context</span></code> will be
a list of <code class="docutils literal notranslate"><span class="pre">Context</span></code> objects, in the order in which they were
rendered.</p>
<p>Regardless of the number of templates used during rendering, you can
retrieve context values using the <code class="docutils literal notranslate"><span class="pre">[]</span></code> operator. For example, the
context variable <code class="docutils literal notranslate"><span class="pre">name</span></code> could be retrieved using:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/foo/&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<span class="go">&#39;Arthur&#39;</span>
</pre></div>
</div>
<div class="admonition-not-using-django-templates admonition">
<p class="admonition-title">Not using Django templates?</p>
<p>This attribute is only populated when using the
<a class="reference internal" href="../../templates/#django.template.backends.django.DjangoTemplates" title="django.template.backends.django.DjangoTemplates"><code class="xref py py-class docutils literal notranslate"><span class="pre">DjangoTemplates</span></code></a> backend.
If you’re using another template engine,
<a class="reference internal" href="../../../ref/template-response/#django.template.response.SimpleTemplateResponse.context_data" title="django.template.response.SimpleTemplateResponse.context_data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">context_data</span></code></a>
may be a suitable alternative on responses with that attribute.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.Response.exc_info">
<span class="sig-name descname"><span class="pre">exc_info</span></span><a class="headerlink" href="#django.test.Response.exc_info" title="Link to this definition">¶</a></dt>
<dd><p>A tuple of three values that provides information about the unhandled
exception, if any, that occurred during the view.</p>
<p>The values are (type, value, traceback), the same as returned by
Python’s <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.exc_info" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exc_info()</span></code></a>. Their meanings are:</p>
<ul class="simple">
<li><p><em>type</em>: The type of the exception.</p></li>
<li><p><em>value</em>: The exception instance.</p></li>
<li><p><em>traceback</em>: A traceback object which encapsulates the call stack at
the point where the exception originally occurred.</p></li>
</ul>
<p>If no exception occurred, then <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> will be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Response.json">
<span class="sig-name descname"><span class="pre">json</span></span>(<em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="headerlink" href="#django.test.Response.json" title="Link to this definition">¶</a></dt>
<dd><p>The body of the response, parsed as JSON. Extra keyword arguments are
passed to <a class="reference external" href="https://docs.python.org/3/library/json.html#json.loads" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.loads()</span></code></a>. For example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/foo/&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<span class="go">&#39;Arthur&#39;</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header is not <code class="docutils literal notranslate"><span class="pre">&quot;application/json&quot;</span></code>, then a
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> will be raised when trying to parse the response.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.Response.request">
<span class="sig-name descname"><span class="pre">request</span></span><a class="headerlink" href="#django.test.Response.request" title="Link to this definition">¶</a></dt>
<dd><p>The request data that stimulated the response.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.Response.wsgi_request">
<span class="sig-name descname"><span class="pre">wsgi_request</span></span><a class="headerlink" href="#django.test.Response.wsgi_request" title="Link to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">WSGIRequest</span></code> instance generated by the test handler that
generated the response.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.Response.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><a class="headerlink" href="#django.test.Response.status_code" title="Link to this definition">¶</a></dt>
<dd><p>The HTTP status of the response, as an integer. For a full list
of defined codes, see the <a class="reference external" href="https://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml">IANA status code registry</a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.Response.templates">
<span class="sig-name descname"><span class="pre">templates</span></span><a class="headerlink" href="#django.test.Response.templates" title="Link to this definition">¶</a></dt>
<dd><p>A list of <code class="docutils literal notranslate"><span class="pre">Template</span></code> instances used to render the final content, in
the order they were rendered. For each template in the list, use
<code class="docutils literal notranslate"><span class="pre">template.name</span></code> to get the template’s file name, if the template was
loaded from a file. (The name is a string such as
<code class="docutils literal notranslate"><span class="pre">'admin/index.html'</span></code>.)</p>
<div class="admonition-not-using-django-templates admonition">
<p class="admonition-title">Not using Django templates?</p>
<p>This attribute is only populated when using the
<a class="reference internal" href="../../templates/#django.template.backends.django.DjangoTemplates" title="django.template.backends.django.DjangoTemplates"><code class="xref py py-class docutils literal notranslate"><span class="pre">DjangoTemplates</span></code></a> backend.
If you’re using another template engine,
<a class="reference internal" href="../../../ref/template-response/#django.template.response.SimpleTemplateResponse.template_name" title="django.template.response.SimpleTemplateResponse.template_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">template_name</span></code></a>
may be a suitable alternative if you only need the name of the
template used for rendering.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.Response.resolver_match">
<span class="sig-name descname"><span class="pre">resolver_match</span></span><a class="headerlink" href="#django.test.Response.resolver_match" title="Link to this definition">¶</a></dt>
<dd><p>An instance of <a class="reference internal" href="../../../ref/urlresolvers/#django.urls.ResolverMatch" title="django.urls.ResolverMatch"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResolverMatch</span></code></a> for the response.
You can use the <a class="reference internal" href="../../../ref/urlresolvers/#django.urls.ResolverMatch.func" title="django.urls.ResolverMatch.func"><code class="xref py py-attr docutils literal notranslate"><span class="pre">func</span></code></a> attribute, for
example, to verify the view that served the response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_view here is a function based view.</span>
<span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">resolver_match</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="n">my_view</span><span class="p">)</span>

<span class="c1"># Class-based views need to compare the view_class, as the</span>
<span class="c1"># functions generated by as_view() won&#39;t be equal.</span>
<span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">resolver_match</span><span class="o">.</span><span class="n">func</span><span class="o">.</span><span class="n">view_class</span><span class="p">,</span> <span class="n">MyView</span><span class="p">)</span>
</pre></div>
</div>
<p>If the given URL is not found, accessing this attribute will raise a
<a class="reference internal" href="../../../ref/exceptions/#django.urls.Resolver404" title="django.urls.Resolver404"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Resolver404</span></code></a> exception.</p>
</dd></dl>

</dd></dl>

<p>As with a normal response, you can also access the headers through
<a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponse.headers" title="django.http.HttpResponse.headers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">HttpResponse.headers</span></code></a>. For example, you could determine the content
type of a response using <code class="docutils literal notranslate"><span class="pre">response.headers['Content-Type']</span></code>.</p>
</section>
<section id="s-exceptions">
<span id="exceptions"></span><h3>Exceptions<a class="headerlink" href="#exceptions" title="Link to this heading">¶</a></h3>
<p>If you point the test client at a view that raises an exception and
<code class="docutils literal notranslate"><span class="pre">Client.raise_request_exception</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, that exception will be visible
in the test case. You can then use a standard <code class="docutils literal notranslate"><span class="pre">try</span> <span class="pre">...</span> <span class="pre">except</span></code> block or
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises" title="(in Python v3.14)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaises()</span></code></a> to test for exceptions.</p>
<p>The only exceptions that are not visible to the test client are
<a class="reference internal" href="../../http/views/#django.http.Http404" title="django.http.Http404"><code class="xref py py-class docutils literal notranslate"><span class="pre">Http404</span></code></a>,
<a class="reference internal" href="../../../ref/exceptions/#django.core.exceptions.PermissionDenied" title="django.core.exceptions.PermissionDenied"><code class="xref py py-class docutils literal notranslate"><span class="pre">PermissionDenied</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SystemExit" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SystemExit</span></code></a>, and
<a class="reference internal" href="../../../ref/exceptions/#django.core.exceptions.SuspiciousOperation" title="django.core.exceptions.SuspiciousOperation"><code class="xref py py-class docutils literal notranslate"><span class="pre">SuspiciousOperation</span></code></a>. Django catches these
exceptions internally and converts them into the appropriate HTTP response
codes. In these cases, you can check <code class="docutils literal notranslate"><span class="pre">response.status_code</span></code> in your test.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">Client.raise_request_exception</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, the test client will return
a 500 response as would be returned to a browser. The response has the
attribute <a class="reference internal" href="#django.test.Response.exc_info" title="django.test.Response.exc_info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">exc_info</span></code></a> to provide information about the unhandled
exception.</p>
</section>
<section id="s-persistent-state">
<span id="persistent-state"></span><h3>Persistent state<a class="headerlink" href="#persistent-state" title="Link to this heading">¶</a></h3>
<p>The test client is stateful. If a response returns a cookie, then that cookie
will be stored in the test client and sent with all subsequent <code class="docutils literal notranslate"><span class="pre">get()</span></code> and
<code class="docutils literal notranslate"><span class="pre">post()</span></code> requests.</p>
<p>Expiration policies for these cookies are not followed. If you want a cookie
to expire, either delete it manually or create a new <code class="docutils literal notranslate"><span class="pre">Client</span></code> instance (which
will effectively delete all cookies).</p>
<p>A test client has attributes that store persistent state information. You can
access these properties as part of a test condition.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.Client.cookies">
<span class="sig-prename descclassname"><span class="pre">Client.</span></span><span class="sig-name descname"><span class="pre">cookies</span></span><a class="headerlink" href="#django.test.Client.cookies" title="Link to this definition">¶</a></dt>
<dd><p>A Python <a class="reference external" href="https://docs.python.org/3/library/http.cookies.html#http.cookies.SimpleCookie" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleCookie</span></code></a> object, containing the current
values of all the client cookies. See the documentation of the
<a class="reference external" href="https://docs.python.org/3/library/http.cookies.html#module-http.cookies" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">http.cookies</span></code></a> module for more.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.Client.session">
<span class="sig-prename descclassname"><span class="pre">Client.</span></span><span class="sig-name descname"><span class="pre">session</span></span><a class="headerlink" href="#django.test.Client.session" title="Link to this definition">¶</a></dt>
<dd><p>A dictionary-like object containing session information. See the
<a class="reference internal" href="../../http/sessions/"><span class="doc">session documentation</span></a> for full details.</p>
<p>To modify the session and then save it, it must be stored in a variable
first (because a new <code class="docutils literal notranslate"><span class="pre">SessionStore</span></code> is created every time this property
is accessed):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_something</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">session</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">session</span>
    <span class="n">session</span><span class="p">[</span><span class="s2">&quot;somekey&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
    <span class="n">session</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.Client.asession">
<span class="sig-prename descclassname"><span class="pre">Client.</span></span><span class="sig-name descname"><span class="pre">asession</span></span>()<a class="headerlink" href="#django.test.Client.asession" title="Link to this definition">¶</a></dt>
<dd><p>This is similar to the <a class="reference internal" href="#django.test.Client.session" title="django.test.Client.session"><code class="xref py py-attr docutils literal notranslate"><span class="pre">session</span></code></a> attribute but it works in async
contexts.</p>
</dd></dl>

</section>
<section id="s-setting-the-language">
<span id="setting-the-language"></span><h3>Setting the language<a class="headerlink" href="#setting-the-language" title="Link to this heading">¶</a></h3>
<p>When testing applications that support internationalization and localization,
you might want to set the language for a test client request. The method for
doing so depends on whether or not the
<a class="reference internal" href="../../../ref/middleware/#django.middleware.locale.LocaleMiddleware" title="django.middleware.locale.LocaleMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocaleMiddleware</span></code></a> is enabled.</p>
<p>If the middleware is enabled, the language can be set by creating a cookie with
a name of <a class="reference internal" href="../../../ref/settings/#std-setting-LANGUAGE_COOKIE_NAME"><code class="xref std std-setting docutils literal notranslate"><span class="pre">LANGUAGE_COOKIE_NAME</span></code></a> and a value of the language code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.conf</span><span class="w"> </span><span class="kn">import</span> <span class="n">settings</span>


<span class="k">def</span><span class="w"> </span><span class="nf">test_language_using_cookie</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">cookies</span><span class="o">.</span><span class="n">load</span><span class="p">({</span><span class="n">settings</span><span class="o">.</span><span class="n">LANGUAGE_COOKIE_NAME</span><span class="p">:</span> <span class="s2">&quot;fr&quot;</span><span class="p">})</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;Bienvenue sur mon site.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>or by including the <code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> HTTP header in the request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_language_using_header</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;accept-language&quot;</span><span class="p">:</span> <span class="s2">&quot;fr&quot;</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;Bienvenue sur mon site.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using these methods, ensure to reset the active language at the end of
each test:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">translation</span><span class="o">.</span><span class="n">activate</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">LANGUAGE_CODE</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>More details are in <a class="reference internal" href="../../i18n/translation/#how-django-discovers-language-preference"><span class="std std-ref">How Django discovers language preference</span></a>.</p>
<p>If the middleware isn’t enabled, the active language may be set using
<a class="reference internal" href="../../../ref/utils/#django.utils.translation.override" title="django.utils.translation.override"><code class="xref py py-func docutils literal notranslate"><span class="pre">translation.override()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">translation</span>


<span class="k">def</span><span class="w"> </span><span class="nf">test_language_using_override</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">translation</span><span class="o">.</span><span class="n">override</span><span class="p">(</span><span class="s2">&quot;fr&quot;</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;Bienvenue sur mon site.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>More details are in <a class="reference internal" href="../../i18n/translation/#explicitly-setting-the-active-language"><span class="std std-ref">Explicitly setting the active language</span></a>.</p>
</section>
<section id="s-example">
<span id="example"></span><h3>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h3>
<p>The following is a unit test using the test client:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">unittest</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span>


<span class="k">class</span><span class="w"> </span><span class="nc">SimpleTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Every test needs a client.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Issue a GET request.</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/customer/details/&quot;</span><span class="p">)</span>

        <span class="c1"># Check that the response is 200 OK.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

        <span class="c1"># Check that the rendered context contains 5 customers.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s2">&quot;customers&quot;</span><span class="p">]),</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../advanced/#django.test.RequestFactory" title="django.test.RequestFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.test.RequestFactory</span></code></a></p>
</div>
</section>
</section>
<section id="s-provided-test-case-classes">
<span id="s-django-testcase-subclasses"></span><span id="provided-test-case-classes"></span><span id="django-testcase-subclasses"></span><h2>Provided test case classes<a class="headerlink" href="#provided-test-case-classes" title="Link to this heading">¶</a></h2>
<p>Normal Python unit test classes extend a base class of
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.TestCase</span></code></a>. Django provides a few extensions of this base
class:</p>
<figure class="align-default" id="id4">
<span id="testcase-hierarchy-diagram"></span><a class="reference internal image-reference" href="../../../_images/django_unittest_classes_hierarchy.svg"><img alt="Hierarchy of Django unit testing classes (TestCase subclasses)" src="../../../_images/django_unittest_classes_hierarchy.svg" style="width: 508px; height: 328px;" />
</a>
<figcaption>
<p><span class="caption-text">Hierarchy of Django unit testing classes</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>You can convert a normal <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.TestCase</span></code></a> to any of the subclasses:
change the base class of your test from <code class="docutils literal notranslate"><span class="pre">unittest.TestCase</span></code> to the subclass.
All of the standard Python unit test functionality will be available, and it
will be augmented with some useful additions as described in each section
below.</p>
<section id="s-simpletestcase">
<span id="simpletestcase"></span><h3><code class="docutils literal notranslate"><span class="pre">SimpleTestCase</span></code><a class="headerlink" href="#simpletestcase" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.test.SimpleTestCase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SimpleTestCase</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L195"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>A subclass of <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.TestCase</span></code></a> that adds this functionality:</p>
<ul class="simple">
<li><p>Some useful assertions like:</p>
<ul>
<li><p>Checking that a callable <a class="reference internal" href="#django.test.SimpleTestCase.assertRaisesMessage" title="django.test.SimpleTestCase.assertRaisesMessage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">raises</span> <span class="pre">a</span> <span class="pre">certain</span> <span class="pre">exception</span></code></a>.</p></li>
<li><p>Checking that a callable <a class="reference internal" href="#django.test.SimpleTestCase.assertWarnsMessage" title="django.test.SimpleTestCase.assertWarnsMessage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">triggers</span> <span class="pre">a</span> <span class="pre">certain</span> <span class="pre">warning</span></code></a>.</p></li>
<li><p>Testing form field <a class="reference internal" href="#django.test.SimpleTestCase.assertFieldOutput" title="django.test.SimpleTestCase.assertFieldOutput"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rendering</span> <span class="pre">and</span> <span class="pre">error</span> <span class="pre">treatment</span></code></a>.</p></li>
<li><p>Testing <a class="reference internal" href="#django.test.SimpleTestCase.assertContains" title="django.test.SimpleTestCase.assertContains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HTML</span> <span class="pre">responses</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">presence/lack</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">given</span> <span class="pre">fragment</span></code></a>.</p></li>
<li><p>Verifying that a template <a class="reference internal" href="#django.test.SimpleTestCase.assertTemplateUsed" title="django.test.SimpleTestCase.assertTemplateUsed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">has/hasn't</span> <span class="pre">been</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">generate</span> <span class="pre">a</span> <span class="pre">given</span>
<span class="pre">response</span> <span class="pre">content</span></code></a>.</p></li>
<li><p>Verifying that two <a class="reference internal" href="#django.test.SimpleTestCase.assertURLEqual" title="django.test.SimpleTestCase.assertURLEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">URLs</span></code></a> are equal.</p></li>
<li><p>Verifying an HTTP <a class="reference internal" href="#django.test.SimpleTestCase.assertRedirects" title="django.test.SimpleTestCase.assertRedirects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">redirect</span></code></a> is
performed by the app.</p></li>
<li><p>Robustly testing two <a class="reference internal" href="#django.test.SimpleTestCase.assertHTMLEqual" title="django.test.SimpleTestCase.assertHTMLEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HTML</span> <span class="pre">fragments</span></code></a> for equality/inequality or
<a class="reference internal" href="#django.test.SimpleTestCase.assertInHTML" title="django.test.SimpleTestCase.assertInHTML"><code class="xref py py-meth docutils literal notranslate"><span class="pre">containment</span></code></a>.</p></li>
<li><p>Robustly testing two <a class="reference internal" href="#django.test.SimpleTestCase.assertXMLEqual" title="django.test.SimpleTestCase.assertXMLEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">XML</span> <span class="pre">fragments</span></code></a>
for equality/inequality.</p></li>
<li><p>Robustly testing two <a class="reference internal" href="#django.test.SimpleTestCase.assertJSONEqual" title="django.test.SimpleTestCase.assertJSONEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">JSON</span> <span class="pre">fragments</span></code></a> for equality.</p></li>
</ul>
</li>
<li><p>The ability to run tests with <a class="reference internal" href="#overriding-settings"><span class="std std-ref">modified settings</span></a>.</p></li>
<li><p>Using the <a class="reference internal" href="#django.test.SimpleTestCase.client" title="django.test.SimpleTestCase.client"><code class="xref py py-attr docutils literal notranslate"><span class="pre">client</span></code></a> <a class="reference internal" href="#django.test.Client" title="django.test.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>.</p></li>
</ul>
<p>If your tests make any database queries, use subclasses
<a class="reference internal" href="#django.test.TransactionTestCase" title="django.test.TransactionTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionTestCase</span></code></a> or <a class="reference internal" href="#django.test.TestCase" title="django.test.TestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.databases">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">databases</span></span><a class="headerlink" href="#django.test.SimpleTestCase.databases" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#django.test.SimpleTestCase" title="django.test.SimpleTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleTestCase</span></code></a> disallows database queries by default. This
helps to avoid executing write queries which will affect other tests
since each <code class="docutils literal notranslate"><span class="pre">SimpleTestCase</span></code> test isn’t run in a transaction. If you
aren’t concerned about this problem, you can disable this behavior by
setting the <code class="docutils literal notranslate"><span class="pre">databases</span></code> class attribute to <code class="docutils literal notranslate"><span class="pre">'__all__'</span></code> on your test
class.</p>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">SimpleTestCase</span></code> and its subclasses (e.g. <code class="docutils literal notranslate"><span class="pre">TestCase</span></code>, …) rely on
<code class="docutils literal notranslate"><span class="pre">setUpClass()</span></code> and <code class="docutils literal notranslate"><span class="pre">tearDownClass()</span></code> to perform some class-wide
initialization (e.g. overriding settings). If you need to override those
methods, don’t forget to call the <code class="docutils literal notranslate"><span class="pre">super</span></code> implementation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">setUpClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">setUpClass</span><span class="p">()</span>
        <span class="o">...</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tearDownClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="o">...</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">tearDownClass</span><span class="p">()</span>
</pre></div>
</div>
<p>Be sure to account for Python’s behavior if an exception is raised during
<code class="docutils literal notranslate"><span class="pre">setUpClass()</span></code>. If that happens, neither the tests in the class nor
<code class="docutils literal notranslate"><span class="pre">tearDownClass()</span></code> are run. In the case of <a class="reference internal" href="#django.test.TestCase" title="django.test.TestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.test.TestCase</span></code></a>,
this will leak the transaction created in <code class="docutils literal notranslate"><span class="pre">super()</span></code>  which results in
various symptoms including a segmentation fault on some platforms (reported
on macOS). If you want to intentionally raise an exception such as
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.SkipTest" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">unittest.SkipTest</span></code></a> in <code class="docutils literal notranslate"><span class="pre">setUpClass()</span></code>, be sure to do it before
calling <code class="docutils literal notranslate"><span class="pre">super()</span></code> to avoid this.</p>
</div>
</section>
<section id="s-transactiontestcase">
<span id="transactiontestcase"></span><h3><code class="docutils literal notranslate"><span class="pre">TransactionTestCase</span></code><a class="headerlink" href="#transactiontestcase" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.test.TransactionTestCase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TransactionTestCase</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1103"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.TransactionTestCase" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">TransactionTestCase</span></code> inherits from <a class="reference internal" href="#django.test.SimpleTestCase" title="django.test.SimpleTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleTestCase</span></code></a> to
add some database-specific features:</p>
<ul class="simple">
<li><p>Resetting the database to a known state at the end of each test to ease
testing and using the ORM.</p></li>
<li><p>Database <a class="reference internal" href="#django.test.TransactionTestCase.fixtures" title="django.test.TransactionTestCase.fixtures"><code class="xref py py-attr docutils literal notranslate"><span class="pre">fixtures</span></code></a>.</p></li>
<li><p>Test <a class="reference internal" href="#skipping-tests"><span class="std std-ref">skipping based on database backend features</span></a>.</p></li>
<li><p>The remaining specialized <a class="reference internal" href="#django.test.TransactionTestCase.assertQuerySetEqual" title="django.test.TransactionTestCase.assertQuerySetEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assert*</span></code></a> methods.</p></li>
</ul>
<p>Django’s <a class="reference internal" href="#django.test.TestCase" title="django.test.TestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a> class is a more commonly used subclass of
<code class="docutils literal notranslate"><span class="pre">TransactionTestCase</span></code> that makes use of database transaction facilities
to speed up the process of resetting the database to a known state at the
end of each test. A consequence of this, however, is that some database
behaviors cannot be tested within a Django <code class="docutils literal notranslate"><span class="pre">TestCase</span></code> class. For instance,
you cannot test that a block of code is executing within a transaction, as is
required when using
<a class="reference internal" href="../../../ref/models/querysets/#django.db.models.query.QuerySet.select_for_update" title="django.db.models.query.QuerySet.select_for_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select_for_update()</span></code></a>. In those cases,
you should use <code class="docutils literal notranslate"><span class="pre">TransactionTestCase</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">TransactionTestCase</span></code> and <code class="docutils literal notranslate"><span class="pre">TestCase</span></code> are identical except for the manner
in which the database is reset to a known state and the ability for test code
to test the effects of commit and rollback:</p>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">TransactionTestCase</span></code> resets the database after the test runs by
truncating all tables. A <code class="docutils literal notranslate"><span class="pre">TransactionTestCase</span></code> may call commit and rollback
and observe the effects of these calls on the database.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">TestCase</span></code>, on the other hand, does not truncate tables after a test.
Instead, it encloses the test code in a database transaction that is rolled
back at the end of the test. This guarantees that the rollback at the end of
the test restores the database to its initial state.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">TestCase</span></code> running on a database that does not support rollback (e.g. MySQL
with the MyISAM storage engine), and all instances of
<code class="docutils literal notranslate"><span class="pre">TransactionTestCase</span></code>, will roll back at the end of the test by deleting
all data from the test database.</p>
<p>Apps <a class="reference internal" href="../overview/#test-case-serialized-rollback"><span class="std std-ref">will not see their data reloaded</span></a>;
if you need this functionality (for example, third-party apps should enable
this) you can set <code class="docutils literal notranslate"><span class="pre">serialized_rollback</span> <span class="pre">=</span> <span class="pre">True</span></code> inside the
<code class="docutils literal notranslate"><span class="pre">TestCase</span></code> body.</p>
</div>
</section>
<section id="s-testcase">
<span id="testcase"></span><h3><code class="docutils literal notranslate"><span class="pre">TestCase</span></code><a class="headerlink" href="#testcase" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.test.TestCase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TestCase</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1375"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.TestCase" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>This is the most common class to use for writing tests in Django. It inherits
from <a class="reference internal" href="#django.test.TransactionTestCase" title="django.test.TransactionTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionTestCase</span></code></a> (and by extension <a class="reference internal" href="#django.test.SimpleTestCase" title="django.test.SimpleTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleTestCase</span></code></a>).
If your Django application doesn’t use a database, use <a class="reference internal" href="#django.test.SimpleTestCase" title="django.test.SimpleTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleTestCase</span></code></a>.</p>
<p>The class:</p>
<ul class="simple">
<li><p>Wraps the tests within two nested <a class="reference internal" href="../../db/transactions/#django.db.transaction.atomic" title="django.db.transaction.atomic"><code class="xref py py-func docutils literal notranslate"><span class="pre">atomic()</span></code></a>
blocks: one for the whole class and one for each test. Therefore, if you want
to test some specific database transaction behavior, use
<a class="reference internal" href="#django.test.TransactionTestCase" title="django.test.TransactionTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionTestCase</span></code></a>.</p></li>
<li><p>Checks deferrable database constraints at the end of each test.</p></li>
</ul>
<p>It also provides an additional method:</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.test.TestCase.setUpTestData">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">TestCase.</span></span><span class="sig-name descname"><span class="pre">setUpTestData</span></span>()<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1459"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.TestCase.setUpTestData" title="Link to this definition">¶</a></dt>
<dd><p>The class-level <code class="docutils literal notranslate"><span class="pre">atomic</span></code> block described above allows the creation of
initial data at the class level, once for the whole <code class="docutils literal notranslate"><span class="pre">TestCase</span></code>. This
technique allows for faster tests as compared to using <code class="docutils literal notranslate"><span class="pre">setUp()</span></code>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MyTests</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">setUpTestData</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="c1"># Set up data for the whole TestCase</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="n">Foo</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">bar</span><span class="o">=</span><span class="s2">&quot;Test&quot;</span><span class="p">)</span>
        <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Some test using self.foo</span>
        <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Some other test using self.foo</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>Note that if the tests are run on a database with no transaction support
(for instance, MySQL with the MyISAM engine), <code class="docutils literal notranslate"><span class="pre">setUpTestData()</span></code> will be
called before each test, negating the speed benefits.</p>
<p>Objects assigned to class attributes in <code class="docutils literal notranslate"><span class="pre">setUpTestData()</span></code> must support
creating deep copies with <a class="reference external" href="https://docs.python.org/3/library/copy.html#copy.deepcopy" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">copy.deepcopy()</span></code></a> in order to isolate them
from alterations performed by each test methods.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.TestCase.captureOnCommitCallbacks">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">TestCase.</span></span><span class="sig-name descname"><span class="pre">captureOnCommitCallbacks</span></span>(<em class="sig-param"><span class="n"><span class="pre">using</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEFAULT_DB_ALIAS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1508"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.TestCase.captureOnCommitCallbacks" title="Link to this definition">¶</a></dt>
<dd><p>Returns a context manager that captures <a class="reference internal" href="../../db/transactions/#django.db.transaction.on_commit" title="django.db.transaction.on_commit"><code class="xref py py-func docutils literal notranslate"><span class="pre">transaction.on_commit()</span></code></a> callbacks for the given database
connection. It returns a list that contains, on exit of the context, the
captured callback functions. From this list you can make assertions on the
callbacks or call them to invoke their side effects, emulating a commit.</p>
<p><code class="docutils literal notranslate"><span class="pre">using</span></code> is the alias of the database connection to capture callbacks for.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">execute</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, all the callbacks will be called as the context
manager exits, if no exception occurred. This emulates a commit after the
wrapped block of code.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">mail</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span>


<span class="k">class</span><span class="w"> </span><span class="nc">ContactTests</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_post</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">captureOnCommitCallbacks</span><span class="p">(</span><span class="n">execute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">callbacks</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                <span class="s2">&quot;/contact/&quot;</span><span class="p">,</span>
                <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;I like your site&quot;</span><span class="p">},</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">callbacks</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mail</span><span class="o">.</span><span class="n">outbox</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mail</span><span class="o">.</span><span class="n">outbox</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subject</span><span class="p">,</span> <span class="s2">&quot;Contact Form&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mail</span><span class="o">.</span><span class="n">outbox</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">,</span> <span class="s2">&quot;I like your site&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="s-liveservertestcase">
<span id="s-live-test-server"></span><span id="liveservertestcase"></span><span id="live-test-server"></span><h3><code class="docutils literal notranslate"><span class="pre">LiveServerTestCase</span></code><a class="headerlink" href="#liveservertestcase" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.test.LiveServerTestCase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LiveServerTestCase</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1790"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.LiveServerTestCase" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">LiveServerTestCase</span></code> does basically the same as
<a class="reference internal" href="#django.test.TransactionTestCase" title="django.test.TransactionTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionTestCase</span></code></a> with one extra feature: it launches a
live Django server in the background on setup, and shuts it down on teardown.
This allows the use of automated test clients other than the
<a class="reference internal" href="#test-client"><span class="std std-ref">Django dummy client</span></a> such as, for example, the <a class="reference external" href="https://www.selenium.dev/">Selenium</a>
client, to execute a series of functional tests inside a browser and simulate a
real user’s actions.</p>
<p>The live server listens on <code class="docutils literal notranslate"><span class="pre">localhost</span></code> and binds to port 0 which uses a free
port assigned by the operating system. The server’s URL can be accessed with
<code class="docutils literal notranslate"><span class="pre">self.live_server_url</span></code> during the tests.</p>
<p>To demonstrate how to use <code class="docutils literal notranslate"><span class="pre">LiveServerTestCase</span></code>, let’s write a Selenium test.
First of all, you need to install the <a class="extlink-pypi reference external" href="https://pypi.org/project/selenium/">selenium</a> package:</p>
<div class="console-block" id="console-block-0">
<input class="c-tab-unix" id="c-tab-0-unix" type="radio" name="console-0" checked>
<label for="c-tab-0-unix" title="Linux/macOS">&#xf17c/&#xf179</label>
<input class="c-tab-win" id="c-tab-0-win" type="radio" name="console-0">
<label for="c-tab-0-win" title="Windows">&#xf17a</label>
<section class="c-content-unix" id="c-content-0-unix">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">&quot;selenium &gt;= 4.23.0&quot;</span>
</pre></div>
</div>
</section>
<section class="c-content-win" id="c-content-0-win">
<div class="highlight"><pre><span></span><span class="gp">...\&gt;</span> py -m pip install <span class="s2">&quot;selenium &gt;= 4.23.0&quot;</span>
</pre></div>
</section>
</div>
<p>Then, add a <code class="docutils literal notranslate"><span class="pre">LiveServerTestCase</span></code>-based test to your app’s tests module
(for example: <code class="docutils literal notranslate"><span class="pre">myapp/tests.py</span></code>). For this example, we’ll assume you’re using
the <a class="reference internal" href="../../../ref/contrib/staticfiles/#module-django.contrib.staticfiles" title="django.contrib.staticfiles: An app for handling static files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">staticfiles</span></code></a> app and want to have static files served
during the execution of your tests similar to what we get at development time
with <code class="docutils literal notranslate"><span class="pre">DEBUG=True</span></code>, i.e. without having to collect them using
<a class="reference internal" href="../../../ref/contrib/staticfiles/#django-admin-collectstatic"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">collectstatic</span></code></a>. We’ll use
the  <a class="reference internal" href="../../../ref/contrib/staticfiles/#django.contrib.staticfiles.testing.StaticLiveServerTestCase" title="django.contrib.staticfiles.testing.StaticLiveServerTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">StaticLiveServerTestCase</span></code></a>
subclass which provides that functionality. Replace it with
<code class="docutils literal notranslate"><span class="pre">django.test.LiveServerTestCase</span></code> if you don’t need that.</p>
<p>The code for this test may look as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.staticfiles.testing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StaticLiveServerTestCase</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">selenium.webdriver.common.by</span><span class="w"> </span><span class="kn">import</span> <span class="n">By</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">selenium.webdriver.firefox.webdriver</span><span class="w"> </span><span class="kn">import</span> <span class="n">WebDriver</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MySeleniumTests</span><span class="p">(</span><span class="n">StaticLiveServerTestCase</span><span class="p">):</span>
    <span class="n">fixtures</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;user-data.json&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">setUpClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">setUpClass</span><span class="p">()</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">selenium</span> <span class="o">=</span> <span class="n">WebDriver</span><span class="p">()</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">selenium</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tearDownClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">selenium</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">tearDownClass</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_login</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selenium</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">live_server_url</span><span class="si">}</span><span class="s2">/login/&quot;</span><span class="p">)</span>
        <span class="n">username_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selenium</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s2">&quot;username&quot;</span><span class="p">)</span>
        <span class="n">username_input</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s2">&quot;myuser&quot;</span><span class="p">)</span>
        <span class="n">password_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selenium</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">)</span>
        <span class="n">password_input</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s2">&quot;secret&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selenium</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s1">&#39;//input[@value=&quot;Log in&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</pre></div>
</div>
<p>Finally, you may run the test as follows:</p>
<div class="console-block" id="console-block-1">
<input class="c-tab-unix" id="c-tab-1-unix" type="radio" name="console-1" checked>
<label for="c-tab-1-unix" title="Linux/macOS">&#xf17c/&#xf179</label>
<input class="c-tab-win" id="c-tab-1-win" type="radio" name="console-1">
<label for="c-tab-1-win" title="Windows">&#xf17a</label>
<section class="c-content-unix" id="c-content-1-unix">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>./manage.py<span class="w"> </span><span class="nb">test</span><span class="w"> </span>myapp.tests.MySeleniumTests.test_login
</pre></div>
</div>
</section>
<section class="c-content-win" id="c-content-1-win">
<div class="highlight"><pre><span></span><span class="gp">...\&gt;</span> manage.py test myapp.tests.MySeleniumTests.test_login
</pre></div>
</section>
</div>
<p>This example will automatically open Firefox then go to the login page, enter
the credentials and press the “Log in” button. Selenium offers other drivers in
case you do not have Firefox installed or wish to use another browser. The
example above is just a tiny fraction of what the Selenium client can do; check
out the <a class="reference external" href="https://selenium-python.readthedocs.io/api.html">full reference</a> for more details.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using an in-memory SQLite database to run the tests, the same database
connection will be shared by two threads in parallel: the thread in which
the live server is run and the thread in which the test case is run. It’s
important to prevent simultaneous database queries via this shared
connection by the two threads, as that may sometimes randomly cause the
tests to fail. So you need to ensure that the two threads don’t access the
database at the same time. In particular, this means that in some cases
(for example, just after clicking a link or submitting a form), you might
need to check that a response is received by Selenium and that the next
page is loaded before proceeding with further test execution.
Do this, for example, by making Selenium wait until the <code class="docutils literal notranslate"><span class="pre">&lt;body&gt;</span></code> HTML tag
is found in the response (requires Selenium &gt; 2.13):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_login</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">selenium.webdriver.support.wait</span><span class="w"> </span><span class="kn">import</span> <span class="n">WebDriverWait</span>

    <span class="n">timeout</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="o">...</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selenium</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s1">&#39;//input[@value=&quot;Log in&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
    <span class="c1"># Wait until the response is received</span>
    <span class="n">WebDriverWait</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selenium</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">driver</span><span class="p">:</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">TAG_NAME</span><span class="p">,</span> <span class="s2">&quot;body&quot;</span><span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>The tricky thing here is that there’s really no such thing as a “page
load,” especially in modern web apps that generate HTML dynamically after
the server generates the initial document. So, checking for the presence of
<code class="docutils literal notranslate"><span class="pre">&lt;body&gt;</span></code> in the response might not necessarily be appropriate for all use
cases. Please refer to the <a class="reference external" href="https://web.archive.org/web/20160129132110/http://code.google.com/p/selenium/wiki/FrequentlyAskedQuestions#Q:_WebDriver_fails_to_find_elements_/_Does_not_block_on_page_loa">Selenium FAQ</a> and <a class="reference external" href="https://www.selenium.dev/documentation/webdriver/waits/#explicit-waits">Selenium documentation</a>
for more information.</p>
</div>
</section>
</section>
<section id="s-test-cases-features">
<span id="test-cases-features"></span><h2>Test cases features<a class="headerlink" href="#test-cases-features" title="Link to this heading">¶</a></h2>
<section id="s-default-test-client">
<span id="default-test-client"></span><h3>Default test client<a class="headerlink" href="#default-test-client" title="Link to this heading">¶</a></h3>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.client">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">client</span></span><a class="headerlink" href="#django.test.SimpleTestCase.client" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>Every test case in a <code class="docutils literal notranslate"><span class="pre">django.test.*TestCase</span></code> instance has access to an
instance of a Django test client. This client can be accessed as
<code class="docutils literal notranslate"><span class="pre">self.client</span></code>. This client is recreated for each test, so you don’t have to
worry about state (such as cookies) carrying over from one test to another.</p>
<p>This means, instead of instantiating a <code class="docutils literal notranslate"><span class="pre">Client</span></code> in each test:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">unittest</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span>


<span class="k">class</span><span class="w"> </span><span class="nc">SimpleTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/customer/details/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/customer/index/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<p>…you can refer to <code class="docutils literal notranslate"><span class="pre">self.client</span></code>, like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span>


<span class="k">class</span><span class="w"> </span><span class="nc">SimpleTest</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/customer/details/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/customer/index/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="s-customizing-the-test-client">
<span id="customizing-the-test-client"></span><h3>Customizing the test client<a class="headerlink" href="#customizing-the-test-client" title="Link to this heading">¶</a></h3>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.client_class">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">client_class</span></span><a class="headerlink" href="#django.test.SimpleTestCase.client_class" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>If you want to use a different <code class="docutils literal notranslate"><span class="pre">Client</span></code> class (for example, a subclass
with customized behavior), use the <a class="reference internal" href="#django.test.SimpleTestCase.client_class" title="django.test.SimpleTestCase.client_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">client_class</span></code></a> class
attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">TestCase</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MyTestClient</span><span class="p">(</span><span class="n">Client</span><span class="p">):</span>
    <span class="c1"># Specialized methods for your environment</span>
    <span class="o">...</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MyTest</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">client_class</span> <span class="o">=</span> <span class="n">MyTestClient</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_my_stuff</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Here self.client is an instance of MyTestClient...</span>
        <span class="n">call_some_test_code</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="s-fixture-loading">
<span id="s-topics-testing-fixtures"></span><span id="fixture-loading"></span><span id="topics-testing-fixtures"></span><h3>Fixture loading<a class="headerlink" href="#fixture-loading" title="Link to this heading">¶</a></h3>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.TransactionTestCase.fixtures">
<span class="sig-prename descclassname"><span class="pre">TransactionTestCase.</span></span><span class="sig-name descname"><span class="pre">fixtures</span></span><a class="headerlink" href="#django.test.TransactionTestCase.fixtures" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>A test case class for a database-backed website isn’t much use if there isn’t
any data in the database. Tests are more readable and it’s more maintainable to
create objects using the ORM, for example in <a class="reference internal" href="#django.test.TestCase.setUpTestData" title="django.test.TestCase.setUpTestData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestCase.setUpTestData()</span></code></a>,
however, you can also use <a class="reference internal" href="../../db/fixtures/#fixtures-explanation"><span class="std std-ref">fixtures</span></a>.</p>
<p>A fixture is a collection of data that Django knows how to import into a
database. For example, if your site has user accounts, you might set up a
fixture of fake user accounts in order to populate your database during tests.</p>
<p>The most straightforward way of creating a fixture is to use the
<a class="reference internal" href="../../../ref/django-admin/#django-admin-dumpdata"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">manage.py</span> <span class="pre">dumpdata</span></code></a> command. This assumes you
already have some data in your database. See the <a class="reference internal" href="../../../ref/django-admin/#django-admin-dumpdata"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">dumpdata</span>
<span class="pre">documentation</span></code></a> for more details.</p>
<p>Once you’ve created a fixture and placed it in a <code class="docutils literal notranslate"><span class="pre">fixtures</span></code> directory in one
of your <a class="reference internal" href="../../../ref/settings/#std-setting-INSTALLED_APPS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code></a>, you can use it in your unit tests by
specifying a <code class="docutils literal notranslate"><span class="pre">fixtures</span></code> class attribute on your <a class="reference internal" href="#django.test.TestCase" title="django.test.TestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.test.TestCase</span></code></a>
subclass:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">myapp.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Animal</span>


<span class="k">class</span><span class="w"> </span><span class="nc">AnimalTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">fixtures</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mammals.json&quot;</span><span class="p">,</span> <span class="s2">&quot;birds&quot;</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Test definitions as before.</span>
        <span class="n">call_setup_methods</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_fluffy_animals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># A test that uses the fixtures.</span>
        <span class="n">call_some_test_code</span><span class="p">()</span>
</pre></div>
</div>
<p>Here’s specifically what will happen:</p>
<ul class="simple">
<li><p>During <code class="docutils literal notranslate"><span class="pre">setUpClass()</span></code>, all the named fixtures are installed. In this
example, Django will install any JSON fixture named <code class="docutils literal notranslate"><span class="pre">mammals</span></code>, followed by
any fixture named <code class="docutils literal notranslate"><span class="pre">birds</span></code>. See the <a class="reference internal" href="../../db/fixtures/#fixtures-explanation"><span class="std std-ref">Fixtures</span></a> topic for
more details on defining and installing fixtures.</p></li>
</ul>
<p>For most unit tests using <a class="reference internal" href="#django.test.TestCase" title="django.test.TestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a>, Django doesn’t need to do
anything else, because transactions are used to clean the database after each
test for performance reasons. But for <a class="reference internal" href="#django.test.TransactionTestCase" title="django.test.TransactionTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionTestCase</span></code></a>, the
following actions will take place:</p>
<ul class="simple">
<li><p>At the end of each test Django will flush the database, returning the
database to the state it was in directly after <a class="reference internal" href="../../../ref/django-admin/#django-admin-migrate"><code class="xref std std-djadmin docutils literal notranslate"><span class="pre">migrate</span></code></a> was
called.</p></li>
<li><p>For each subsequent test, the fixtures will be reloaded before <code class="docutils literal notranslate"><span class="pre">setUp()</span></code>
is run.</p></li>
</ul>
<p>In any case, you can be certain that the outcome of a test will not be
affected by another test or by the order of test execution.</p>
<p>By default, fixtures are only loaded into the <code class="docutils literal notranslate"><span class="pre">default</span></code> database. If you are
using multiple databases and set <a class="reference internal" href="#django.test.TransactionTestCase.databases" title="django.test.TransactionTestCase.databases"><code class="xref py py-attr docutils literal notranslate"><span class="pre">TransactionTestCase.databases</span></code></a>,
fixtures will be loaded into all specified databases.</p>
<div class="versionchanged">
<span class="title">Changed in Django 5.2:</span> <p>For <a class="reference internal" href="#django.test.TransactionTestCase" title="django.test.TransactionTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransactionTestCase</span></code></a>, fixtures were made available during
<code class="docutils literal notranslate"><span class="pre">setUpClass()</span></code>.</p>
</div>
</section>
<section id="s-urlconf-configuration">
<span id="urlconf-configuration"></span><h3>URLconf configuration<a class="headerlink" href="#urlconf-configuration" title="Link to this heading">¶</a></h3>
<p>If your application provides views, you may want to include tests that use the
test client to exercise those views. However, an end user is free to deploy the
views in your application at any URL of their choosing. This means that your
tests can’t rely upon the fact that your views will be available at a
particular URL. Decorate your test class or test method with
<code class="docutils literal notranslate"><span class="pre">&#64;override_settings(ROOT_URLCONF=...)</span></code> for URLconf configuration.</p>
</section>
<section id="s-multi-database-support">
<span id="s-testing-multi-db"></span><span id="multi-database-support"></span><span id="testing-multi-db"></span><h3>Multi-database support<a class="headerlink" href="#multi-database-support" title="Link to this heading">¶</a></h3>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.TransactionTestCase.databases">
<span class="sig-prename descclassname"><span class="pre">TransactionTestCase.</span></span><span class="sig-name descname"><span class="pre">databases</span></span><a class="headerlink" href="#django.test.TransactionTestCase.databases" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>Django sets up a test database corresponding to every database that is
defined in the <a class="reference internal" href="../../../ref/settings/#std-setting-DATABASES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DATABASES</span></code></a> definition in your settings and referred to
by at least one test through <code class="docutils literal notranslate"><span class="pre">databases</span></code>.</p>
<p>However, a big part of the time taken to run a Django <code class="docutils literal notranslate"><span class="pre">TestCase</span></code> is consumed
by the call to <code class="docutils literal notranslate"><span class="pre">flush</span></code> that ensures that you have a clean database at the
end of each test run. If you have multiple databases, multiple flushes are
required (one for each database), which can be a time consuming activity –
especially if your tests don’t need to test multi-database activity.</p>
<p>As an optimization, Django only flushes the <code class="docutils literal notranslate"><span class="pre">default</span></code> database at
the end of each test run. If your setup contains multiple databases,
and you have a test that requires every database to be clean, you can
use the <code class="docutils literal notranslate"><span class="pre">databases</span></code> attribute on the test suite to request extra databases
to be flushed.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">TestMyViews</span><span class="p">(</span><span class="n">TransactionTestCase</span><span class="p">):</span>
    <span class="n">databases</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;other&quot;</span><span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_index_page_view</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">call_some_test_code</span><span class="p">()</span>
</pre></div>
</div>
<p>This test case class will flush the <code class="docutils literal notranslate"><span class="pre">default</span></code> and <code class="docutils literal notranslate"><span class="pre">other</span></code> test databases
after running <code class="docutils literal notranslate"><span class="pre">test_index_page_view</span></code>. You can also use <code class="docutils literal notranslate"><span class="pre">'__all__'</span></code> to
specify that all of the test databases must be flushed.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">databases</span></code> flag also controls which databases the
<a class="reference internal" href="#django.test.TransactionTestCase.fixtures" title="django.test.TransactionTestCase.fixtures"><code class="xref py py-attr docutils literal notranslate"><span class="pre">TransactionTestCase.fixtures</span></code></a> are loaded into. By default, fixtures are
only loaded into the <code class="docutils literal notranslate"><span class="pre">default</span></code> database.</p>
<p>Queries against databases not in <code class="docutils literal notranslate"><span class="pre">databases</span></code> will give assertion errors to
prevent state leaking between tests.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.test.TestCase.databases">
<span class="sig-prename descclassname"><span class="pre">TestCase.</span></span><span class="sig-name descname"><span class="pre">databases</span></span><a class="headerlink" href="#django.test.TestCase.databases" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>By default, only the <code class="docutils literal notranslate"><span class="pre">default</span></code> database will be wrapped in a transaction
during a <code class="docutils literal notranslate"><span class="pre">TestCase</span></code>’s execution and attempts to query other databases will
result in assertion errors to prevent state leaking between tests.</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">databases</span></code> class attribute on the test class to request transaction
wrapping against non-<code class="docutils literal notranslate"><span class="pre">default</span></code> databases.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">OtherDBTests</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">databases</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;other&quot;</span><span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_other_db_query</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>This test will only allow queries against the <code class="docutils literal notranslate"><span class="pre">other</span></code> database. Just like for
<a class="reference internal" href="#django.test.SimpleTestCase.databases" title="django.test.SimpleTestCase.databases"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SimpleTestCase.databases</span></code></a> and <a class="reference internal" href="#django.test.TransactionTestCase.databases" title="django.test.TransactionTestCase.databases"><code class="xref py py-attr docutils literal notranslate"><span class="pre">TransactionTestCase.databases</span></code></a>, the
<code class="docutils literal notranslate"><span class="pre">'__all__'</span></code> constant can be used to specify that the test should allow
queries to all databases.</p>
</section>
<section id="s-overriding-settings">
<span id="s-id1"></span><span id="overriding-settings"></span><span id="id1"></span><h3>Overriding settings<a class="headerlink" href="#overriding-settings" title="Link to this heading">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Use the functions below to temporarily alter the value of settings in
tests. Don’t manipulate <code class="docutils literal notranslate"><span class="pre">django.conf.settings</span></code> directly as Django won’t
restore the original values after such manipulations.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.settings">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">settings</span></span>()<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L393"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.settings" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>For testing purposes it’s often useful to change a setting temporarily and
revert to the original value after running the testing code. For this use case
Django provides a standard Python context manager (see <span class="target" id="index-3"></span><a class="pep reference external" href="https://peps.python.org/pep-0343/"><strong>PEP 343</strong></a>) called
<a class="reference internal" href="#django.test.SimpleTestCase.settings" title="django.test.SimpleTestCase.settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">settings()</span></code></a>, which can be used like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span>


<span class="k">class</span><span class="w"> </span><span class="nc">LoginTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_login</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># First check for the default behavior</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/sekrit/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRedirects</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;/accounts/login/?next=/sekrit/&quot;</span><span class="p">)</span>

        <span class="c1"># Then override the LOGIN_URL setting</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">(</span><span class="n">LOGIN_URL</span><span class="o">=</span><span class="s2">&quot;/other/login/&quot;</span><span class="p">):</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/sekrit/&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRedirects</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;/other/login/?next=/sekrit/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This example will override the <a class="reference internal" href="../../../ref/settings/#std-setting-LOGIN_URL"><code class="xref std std-setting docutils literal notranslate"><span class="pre">LOGIN_URL</span></code></a> setting for the code
in the <code class="docutils literal notranslate"><span class="pre">with</span></code> block and reset its value to the previous state afterward.</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.modify_settings">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">modify_settings</span></span>()<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L400"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.modify_settings" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>It can prove unwieldy to redefine settings that contain a list of values. In
practice, adding or removing values is often sufficient. Django provides the
<a class="reference internal" href="#django.test.SimpleTestCase.modify_settings" title="django.test.SimpleTestCase.modify_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">modify_settings()</span></code></a> context manager for easier
settings changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MiddlewareTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_cache_middleware</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">modify_settings</span><span class="p">(</span>
            <span class="n">MIDDLEWARE</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;append&quot;</span><span class="p">:</span> <span class="s2">&quot;django.middleware.cache.FetchFromCacheMiddleware&quot;</span><span class="p">,</span>
                <span class="s2">&quot;prepend&quot;</span><span class="p">:</span> <span class="s2">&quot;django.middleware.cache.UpdateCacheMiddleware&quot;</span><span class="p">,</span>
                <span class="s2">&quot;remove&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;django.contrib.sessions.middleware.SessionMiddleware&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;django.contrib.auth.middleware.AuthenticationMiddleware&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;django.contrib.messages.middleware.MessageMiddleware&quot;</span><span class="p">,</span>
                <span class="p">],</span>
            <span class="p">}</span>
        <span class="p">):</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
            <span class="c1"># ...</span>
</pre></div>
</div>
<p>For each action, you can supply either a list of values or a string. When the
value already exists in the list, <code class="docutils literal notranslate"><span class="pre">append</span></code> and <code class="docutils literal notranslate"><span class="pre">prepend</span></code> have no effect;
neither does <code class="docutils literal notranslate"><span class="pre">remove</span></code> when the value doesn’t exist.</p>
<dl class="py function">
<dt class="sig sig-object py" id="django.test.override_settings">
<span class="sig-name descname"><span class="pre">override_settings</span></span>(<em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/utils.py#L470"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.override_settings" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>In case you want to override a setting for a test method, Django provides the
<a class="reference internal" href="#django.test.override_settings" title="django.test.override_settings"><code class="xref py py-func docutils literal notranslate"><span class="pre">override_settings()</span></code></a> decorator (see <span class="target" id="index-4"></span><a class="pep reference external" href="https://peps.python.org/pep-0318/"><strong>PEP 318</strong></a>). It’s used
like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">override_settings</span>


<span class="k">class</span><span class="w"> </span><span class="nc">LoginTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="nd">@override_settings</span><span class="p">(</span><span class="n">LOGIN_URL</span><span class="o">=</span><span class="s2">&quot;/other/login/&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_login</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/sekrit/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRedirects</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;/other/login/?next=/sekrit/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The decorator can also be applied to <a class="reference internal" href="#django.test.TestCase" title="django.test.TestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a> classes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">override_settings</span>


<span class="nd">@override_settings</span><span class="p">(</span><span class="n">LOGIN_URL</span><span class="o">=</span><span class="s2">&quot;/other/login/&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">LoginTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_login</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/sekrit/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRedirects</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s2">&quot;/other/login/?next=/sekrit/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="django.test.modify_settings">
<span class="sig-name descname"><span class="pre">modify_settings</span></span>(<em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/utils.py#L555"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.modify_settings" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>Likewise, Django provides the <a class="reference internal" href="#django.test.modify_settings" title="django.test.modify_settings"><code class="xref py py-func docutils literal notranslate"><span class="pre">modify_settings()</span></code></a>
decorator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">modify_settings</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MiddlewareTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="nd">@modify_settings</span><span class="p">(</span>
        <span class="n">MIDDLEWARE</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;append&quot;</span><span class="p">:</span> <span class="s2">&quot;django.middleware.cache.FetchFromCacheMiddleware&quot;</span><span class="p">,</span>
            <span class="s2">&quot;prepend&quot;</span><span class="p">:</span> <span class="s2">&quot;django.middleware.cache.UpdateCacheMiddleware&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_cache_middleware</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="c1"># ...</span>
</pre></div>
</div>
<p>The decorator can also be applied to test case classes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">modify_settings</span>


<span class="nd">@modify_settings</span><span class="p">(</span>
    <span class="n">MIDDLEWARE</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;append&quot;</span><span class="p">:</span> <span class="s2">&quot;django.middleware.cache.FetchFromCacheMiddleware&quot;</span><span class="p">,</span>
        <span class="s2">&quot;prepend&quot;</span><span class="p">:</span> <span class="s2">&quot;django.middleware.cache.UpdateCacheMiddleware&quot;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MiddlewareTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_cache_middleware</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="c1"># ...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When given a class, these decorators modify the class directly and return
it; they don’t create and return a modified copy of it. So if you try to
tweak the above examples to assign the return value to a different name
than <code class="docutils literal notranslate"><span class="pre">LoginTestCase</span></code> or <code class="docutils literal notranslate"><span class="pre">MiddlewareTestCase</span></code>, you may be surprised to
find that the original test case classes are still equally affected by the
decorator. For a given class, <a class="reference internal" href="#django.test.modify_settings" title="django.test.modify_settings"><code class="xref py py-func docutils literal notranslate"><span class="pre">modify_settings()</span></code></a> is
always applied after <a class="reference internal" href="#django.test.override_settings" title="django.test.override_settings"><code class="xref py py-func docutils literal notranslate"><span class="pre">override_settings()</span></code></a>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The settings file contains some settings that are only consulted during
initialization of Django internals. If you change them with
<code class="docutils literal notranslate"><span class="pre">override_settings</span></code>, the setting is changed if you access it via the
<code class="docutils literal notranslate"><span class="pre">django.conf.settings</span></code> module, however, Django’s internals access it
differently. Effectively, using <a class="reference internal" href="#django.test.override_settings" title="django.test.override_settings"><code class="xref py py-func docutils literal notranslate"><span class="pre">override_settings()</span></code></a> or
<a class="reference internal" href="#django.test.modify_settings" title="django.test.modify_settings"><code class="xref py py-func docutils literal notranslate"><span class="pre">modify_settings()</span></code></a> with these settings is probably not
going to do what you expect it to do.</p>
<p>We do not recommend altering the <a class="reference internal" href="../../../ref/settings/#std-setting-DATABASES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DATABASES</span></code></a> setting. Altering
the <a class="reference internal" href="../../../ref/settings/#std-setting-CACHES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">CACHES</span></code></a> setting is possible, but a bit tricky if you are
using internals that make using of caching, like
<a class="reference internal" href="../../http/sessions/#module-django.contrib.sessions" title="django.contrib.sessions: Provides session management for Django projects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.contrib.sessions</span></code></a>. For example, you will have to reinitialize
the session backend in a test that uses cached sessions and overrides
<a class="reference internal" href="../../../ref/settings/#std-setting-CACHES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">CACHES</span></code></a>.</p>
<p>Finally, avoid aliasing your settings as module-level constants as
<code class="docutils literal notranslate"><span class="pre">override_settings()</span></code> won’t work on such values since they are
only evaluated the first time the module is imported.</p>
</div>
<p>You can also simulate the absence of a setting by deleting it after settings
have been overridden, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@override_settings</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_something</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">del</span> <span class="n">settings</span><span class="o">.</span><span class="n">LOGIN_URL</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>When overriding settings, make sure to handle the cases in which your app’s
code uses a cache or similar feature that retains state even if the setting is
changed. Django provides the <a class="reference internal" href="../../../ref/signals/#django.test.signals.setting_changed" title="django.test.signals.setting_changed"><code class="xref py py-data docutils literal notranslate"><span class="pre">django.test.signals.setting_changed</span></code></a>
signal that lets you register callbacks to clean up and otherwise reset state
when settings are changed.</p>
<p>Django itself uses this signal to reset various data:</p>
<table class="docutils">
<thead>
<tr class="row-odd"><th class="head"><p>Overridden settings</p></th>
<th class="head"><p>Data reset</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>USE_TZ, TIME_ZONE</p></td>
<td><p>Databases timezone</p></td>
</tr>
<tr class="row-odd"><td><p>TEMPLATES</p></td>
<td><p>Template engines</p></td>
</tr>
<tr class="row-even"><td><p>FORM_RENDERER</p></td>
<td><p>Default renderer</p></td>
</tr>
<tr class="row-odd"><td><p>SERIALIZATION_MODULES</p></td>
<td><p>Serializers cache</p></td>
</tr>
<tr class="row-even"><td><p>LOCALE_PATHS, LANGUAGE_CODE</p></td>
<td><p>Default translation and loaded translations</p></td>
</tr>
<tr class="row-odd"><td><p>STATIC_ROOT, STATIC_URL, STORAGES</p></td>
<td><p>Storages configuration</p></td>
</tr>
</tbody>
</table>
</section>
<section id="s-isolating-apps">
<span id="isolating-apps"></span><h3>Isolating apps<a class="headerlink" href="#isolating-apps" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="django.test.utils.isolate_apps">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">isolate_apps</span></span>(<em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">app_labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwarg_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#django.test.utils.isolate_apps" title="Link to this definition">¶</a></dt>
<dd><p>Registers the models defined within a wrapped context into their own
isolated <a class="reference internal" href="../../../ref/applications/#django.apps.apps" title="django.apps.apps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">apps</span></code></a> registry. This functionality is useful
when creating model classes for tests, as the classes will be cleanly
deleted afterward, and there is no risk of name collisions.</p>
<p>The app labels which the isolated registry should contain must be passed as
individual arguments. You can use <code class="docutils literal notranslate"><span class="pre">isolate_apps()</span></code> as a decorator or a
context manager. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.db</span><span class="w"> </span><span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimpleTestCase</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.test.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">isolate_apps</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MyModelTests</span><span class="p">(</span><span class="n">SimpleTestCase</span><span class="p">):</span>
    <span class="nd">@isolate_apps</span><span class="p">(</span><span class="s2">&quot;app_label&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_model_definition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">class</span><span class="w"> </span><span class="nc">TestModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
            <span class="k">pass</span>

        <span class="o">...</span>
</pre></div>
</div>
<p>… or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">isolate_apps</span><span class="p">(</span><span class="s2">&quot;app_label&quot;</span><span class="p">):</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">TestModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="o">...</span>
</pre></div>
</div>
<p>The decorator form can also be applied to classes.</p>
<p>Two optional keyword arguments can be specified:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">attr_name</span></code>: attribute assigned the isolated registry if used as a
class decorator.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kwarg_name</span></code>: keyword argument passing the isolated registry if used as
a function decorator.</p></li>
</ul>
<p>The temporary <code class="docutils literal notranslate"><span class="pre">Apps</span></code> instance used to isolate model registration can be
retrieved as an attribute when used as a class decorator by using the
<code class="docutils literal notranslate"><span class="pre">attr_name</span></code> parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@isolate_apps</span><span class="p">(</span><span class="s2">&quot;app_label&quot;</span><span class="p">,</span> <span class="n">attr_name</span><span class="o">=</span><span class="s2">&quot;apps&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">TestModelDefinition</span><span class="p">(</span><span class="n">SimpleTestCase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_model_definition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">class</span><span class="w"> </span><span class="nc">TestModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apps</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="s2">&quot;app_label&quot;</span><span class="p">,</span> <span class="s2">&quot;TestModel&quot;</span><span class="p">),</span> <span class="n">TestModel</span><span class="p">)</span>
</pre></div>
</div>
<p>… or alternatively as an argument on the test method when used as a method
decorator by using the <code class="docutils literal notranslate"><span class="pre">kwarg_name</span></code> parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">TestModelDefinition</span><span class="p">(</span><span class="n">SimpleTestCase</span><span class="p">):</span>
    <span class="nd">@isolate_apps</span><span class="p">(</span><span class="s2">&quot;app_label&quot;</span><span class="p">,</span> <span class="n">kwarg_name</span><span class="o">=</span><span class="s2">&quot;apps&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_model_definition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">apps</span><span class="p">):</span>
        <span class="k">class</span><span class="w"> </span><span class="nc">TestModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">apps</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="s2">&quot;app_label&quot;</span><span class="p">,</span> <span class="s2">&quot;TestModel&quot;</span><span class="p">),</span> <span class="n">TestModel</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="s-emptying-the-test-outbox">
<span id="s-emptying-test-outbox"></span><span id="emptying-the-test-outbox"></span><span id="emptying-test-outbox"></span><h3>Emptying the test outbox<a class="headerlink" href="#emptying-the-test-outbox" title="Link to this heading">¶</a></h3>
<p>If you use any of Django’s custom <code class="docutils literal notranslate"><span class="pre">TestCase</span></code> classes, the test runner will
clear the contents of the test email outbox at the start of each test case.</p>
<p>For more detail on email services during tests, see <a class="reference internal" href="#email-services">Email services</a> below.</p>
</section>
<section id="s-assertions">
<span id="s-id2"></span><span id="assertions"></span><span id="id2"></span><h3>Assertions<a class="headerlink" href="#assertions" title="Link to this heading">¶</a></h3>
<p>As Python’s normal <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.TestCase</span></code></a> class implements assertion
methods such as <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue" title="(in Python v3.14)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertTrue()</span></code></a> and
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="(in Python v3.14)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a>, Django’s custom <a class="reference internal" href="#django.test.TestCase" title="django.test.TestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a> class
provides a number of custom assertion methods that are useful for testing web
applications:</p>
<p>The failure messages given by most of these assertion methods can be customized
with the <code class="docutils literal notranslate"><span class="pre">msg_prefix</span></code> argument. This string will be prefixed to any failure
message generated by the assertion. This allows you to provide additional
details that may help you to identify the location and cause of a failure in
your test suite.</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertRaisesMessage">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertRaisesMessage</span></span>(<em class="sig-param"><span class="n"><span class="pre">expected_exception</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L863"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertRaisesMessage" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertRaisesMessage</span></span>(<em class="sig-param"><span class="n"><span class="pre">expected_exception</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_message</span></span></em>)</dt>
<dd><p>Asserts that execution of <code class="docutils literal notranslate"><span class="pre">callable</span></code> raises <code class="docutils literal notranslate"><span class="pre">expected_exception</span></code> and
that <code class="docutils literal notranslate"><span class="pre">expected_message</span></code> is found in the exception’s message. Any other
outcome is reported as a failure. It’s a simpler version of
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex" title="(in Python v3.14)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unittest.TestCase.assertRaisesRegex()</span></code></a> with the difference that
<code class="docutils literal notranslate"><span class="pre">expected_message</span></code> isn’t treated as a regular expression.</p>
<p>If only the <code class="docutils literal notranslate"><span class="pre">expected_exception</span></code> and <code class="docutils literal notranslate"><span class="pre">expected_message</span></code> parameters are
given, returns a context manager so that the code being tested can be
written inline rather than as a function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesMessage</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s2">&quot;invalid literal for int()&quot;</span><span class="p">):</span>
    <span class="nb">int</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertWarnsMessage">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertWarnsMessage</span></span>(<em class="sig-param"><span class="n"><span class="pre">expected_warning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L885"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertWarnsMessage" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertWarnsMessage</span></span>(<em class="sig-param"><span class="n"><span class="pre">expected_warning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_message</span></span></em>)</dt>
<dd><p>Analogous to <a class="reference internal" href="#django.test.SimpleTestCase.assertRaisesMessage" title="django.test.SimpleTestCase.assertRaisesMessage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SimpleTestCase.assertRaisesMessage()</span></code></a> but for
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarnsRegex" title="(in Python v3.14)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertWarnsRegex()</span></code></a> instead of
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex" title="(in Python v3.14)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaisesRegex()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertFieldOutput">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertFieldOutput</span></span>(<em class="sig-param"><span class="n"><span class="pre">fieldclass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invalid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L899"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertFieldOutput" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that a form field behaves correctly with various inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldclass</strong> – the class of the field to be tested.</p></li>
<li><p><strong>valid</strong> – a dictionary mapping valid inputs to their expected cleaned
values.</p></li>
<li><p><strong>invalid</strong> – a dictionary mapping invalid inputs to one or more raised
error messages.</p></li>
<li><p><strong>field_args</strong> – the args passed to instantiate the field.</p></li>
<li><p><strong>field_kwargs</strong> – the kwargs passed to instantiate the field.</p></li>
<li><p><strong>empty_value</strong> – the expected clean output for inputs in
<code class="docutils literal notranslate"><span class="pre">empty_values</span></code>.</p></li>
</ul>
</dd>
</dl>
<p>For example, the following code tests that an <code class="docutils literal notranslate"><span class="pre">EmailField</span></code> accepts
<code class="docutils literal notranslate"><span class="pre">a&#64;a.com</span></code> as a valid email address, but rejects <code class="docutils literal notranslate"><span class="pre">aaa</span></code> with a reasonable
error message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">assertFieldOutput</span><span class="p">(</span>
    <span class="n">EmailField</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;a@a.com&quot;</span><span class="p">:</span> <span class="s2">&quot;a@a.com&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;aaa&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Enter a valid email address.&quot;</span><span class="p">]}</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertFormError">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertFormError</span></span>(<em class="sig-param"><span class="n"><span class="pre">form</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L695"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertFormError" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that a field on a form raises the provided list of errors.</p>
<p><code class="docutils literal notranslate"><span class="pre">form</span></code> is a <code class="docutils literal notranslate"><span class="pre">Form</span></code> instance. The form must be
<a class="reference internal" href="../../../ref/forms/api/#ref-forms-api-bound-unbound"><span class="std std-ref">bound</span></a> but not necessarily
validated (<code class="docutils literal notranslate"><span class="pre">assertFormError()</span></code> will automatically call <code class="docutils literal notranslate"><span class="pre">full_clean()</span></code>
on the form).</p>
<p><code class="docutils literal notranslate"><span class="pre">field</span></code> is the name of the field on the form to check. To check the
form’s <a class="reference internal" href="../../../ref/forms/api/#django.forms.Form.non_field_errors" title="django.forms.Form.non_field_errors"><code class="xref py py-meth docutils literal notranslate"><span class="pre">non-field</span> <span class="pre">errors</span></code></a>, use
<code class="docutils literal notranslate"><span class="pre">field=None</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">errors</span></code> is a list of all the error strings that the field is expected to
have. You can also pass a single error string if you only expect one error
which means that <code class="docutils literal notranslate"><span class="pre">errors='error</span> <span class="pre">message'</span></code> is the same as
<code class="docutils literal notranslate"><span class="pre">errors=['error</span> <span class="pre">message']</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertFormSetError">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertFormSetError</span></span>(<em class="sig-param"><span class="n"><span class="pre">formset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L710"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertFormSetError" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the <code class="docutils literal notranslate"><span class="pre">formset</span></code> raises the provided list of errors when
rendered.</p>
<p><code class="docutils literal notranslate"><span class="pre">formset</span></code> is a <code class="docutils literal notranslate"><span class="pre">FormSet</span></code> instance. The formset must be bound but not
necessarily validated (<code class="docutils literal notranslate"><span class="pre">assertFormSetError()</span></code> will automatically call the
<code class="docutils literal notranslate"><span class="pre">full_clean()</span></code> on the formset).</p>
<p><code class="docutils literal notranslate"><span class="pre">form_index</span></code> is the number of the form within the <code class="docutils literal notranslate"><span class="pre">FormSet</span></code> (starting
from 0). Use <code class="docutils literal notranslate"><span class="pre">form_index=None</span></code> to check the formset’s non-form errors,
i.e. the errors you get when calling <code class="docutils literal notranslate"><span class="pre">formset.non_form_errors()</span></code>. In that
case you must also use <code class="docutils literal notranslate"><span class="pre">field=None</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">field</span></code> and <code class="docutils literal notranslate"><span class="pre">errors</span></code> have the same meaning as the parameters to
<code class="docutils literal notranslate"><span class="pre">assertFormError()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertContains">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertContains</span></span>(<em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L593"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertContains" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that a <a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponse" title="django.http.HttpResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">response</span></code></a> produced the
given <a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponse.status_code" title="django.http.HttpResponse.status_code"><code class="xref py py-attr docutils literal notranslate"><span class="pre">status_code</span></code></a> and that <code class="docutils literal notranslate"><span class="pre">text</span></code>
appears in its <a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponse.content" title="django.http.HttpResponse.content"><code class="xref py py-attr docutils literal notranslate"><span class="pre">content</span></code></a>. If <code class="docutils literal notranslate"><span class="pre">count</span></code>
is provided, <code class="docutils literal notranslate"><span class="pre">text</span></code> must occur exactly <code class="docutils literal notranslate"><span class="pre">count</span></code> times in the response.</p>
<p>Set <code class="docutils literal notranslate"><span class="pre">html</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> to handle <code class="docutils literal notranslate"><span class="pre">text</span></code> as HTML. The comparison with
the response content will be based on HTML semantics instead of
character-by-character equality. Whitespace is ignored in most cases,
attribute ordering is not significant. See
<a class="reference internal" href="#django.test.SimpleTestCase.assertHTMLEqual" title="django.test.SimpleTestCase.assertHTMLEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertHTMLEqual()</span></code></a> for more details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertNotContains">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertNotContains</span></span>(<em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L627"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertNotContains" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that a <a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponse" title="django.http.HttpResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">response</span></code></a> produced the
given <a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponse.status_code" title="django.http.HttpResponse.status_code"><code class="xref py py-attr docutils literal notranslate"><span class="pre">status_code</span></code></a> and that <code class="docutils literal notranslate"><span class="pre">text</span></code> does
<em>not</em> appear in its <a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponse.content" title="django.http.HttpResponse.content"><code class="xref py py-attr docutils literal notranslate"><span class="pre">content</span></code></a>.</p>
<p>Set <code class="docutils literal notranslate"><span class="pre">html</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> to handle <code class="docutils literal notranslate"><span class="pre">text</span></code> as HTML. The comparison with
the response content will be based on HTML semantics instead of
character-by-character equality. Whitespace is ignored in most cases,
attribute ordering is not significant. See
<a class="reference internal" href="#django.test.SimpleTestCase.assertHTMLEqual" title="django.test.SimpleTestCase.assertHTMLEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertHTMLEqual()</span></code></a> for more details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertTemplateUsed">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertTemplateUsed</span></span>(<em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L796"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertTemplateUsed" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the template with the given name was used in rendering the
response.</p>
<p><code class="docutils literal notranslate"><span class="pre">response</span></code> must be a response instance returned by the
<a class="reference internal" href="#django.test.Response" title="django.test.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">test</span> <span class="pre">client</span></code></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">template_name</span></code> should be a string such as <code class="docutils literal notranslate"><span class="pre">'admin/index.html'</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">count</span></code> argument is an integer indicating the number of times the
template should be rendered. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, meaning that the template
should be rendered one or more times.</p>
<p>You can use this as a context manager, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertTemplateUsed</span><span class="p">(</span><span class="s2">&quot;index.html&quot;</span><span class="p">):</span>
    <span class="n">render_to_string</span><span class="p">(</span><span class="s2">&quot;index.html&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertTemplateUsed</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s2">&quot;index.html&quot;</span><span class="p">):</span>
    <span class="n">render_to_string</span><span class="p">(</span><span class="s2">&quot;index.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertTemplateNotUsed">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertTemplateNotUsed</span></span>(<em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L817"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertTemplateNotUsed" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the template with the given name was <em>not</em> used in rendering
the response.</p>
<p>You can use this as a context manager in the same way as
<a class="reference internal" href="#django.test.SimpleTestCase.assertTemplateUsed" title="django.test.SimpleTestCase.assertTemplateUsed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertTemplateUsed()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertURLEqual">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertURLEqual</span></span>(<em class="sig-param"><span class="n"><span class="pre">url1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L526"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertURLEqual" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that two URLs are the same, ignoring the order of query string
parameters except for parameters with the same name. For example,
<code class="docutils literal notranslate"><span class="pre">/path/?x=1&amp;y=2</span></code> is equal to <code class="docutils literal notranslate"><span class="pre">/path/?y=2&amp;x=1</span></code>, but
<code class="docutils literal notranslate"><span class="pre">/path/?a=1&amp;a=2</span></code> isn’t equal to <code class="docutils literal notranslate"><span class="pre">/path/?a=2&amp;a=1</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertRedirects">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertRedirects</span></span>(<em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">302</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_status_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_redirect_response</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L407"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertRedirects" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the <a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponse" title="django.http.HttpResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">response</span></code></a> returned a
<a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponse.status_code" title="django.http.HttpResponse.status_code"><code class="xref py py-attr docutils literal notranslate"><span class="pre">status_code</span></code></a> redirect status, redirected
to <code class="docutils literal notranslate"><span class="pre">expected_url</span></code> (including any <code class="docutils literal notranslate"><span class="pre">GET</span></code> data), and that the final page
was received with <code class="docutils literal notranslate"><span class="pre">target_status_code</span></code>.</p>
<p>If your request used the <code class="docutils literal notranslate"><span class="pre">follow</span></code> argument, the <code class="docutils literal notranslate"><span class="pre">expected_url</span></code> and
<code class="docutils literal notranslate"><span class="pre">target_status_code</span></code> will be the url and status code for the final
point of the redirect chain.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">fetch_redirect_response</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, the final page won’t be
loaded. Since the test client can’t fetch external URLs, this is
particularly useful if <code class="docutils literal notranslate"><span class="pre">expected_url</span></code> isn’t part of your Django app.</p>
<p>Scheme is handled correctly when making comparisons between two URLs. If
there isn’t any scheme specified in the location where we are redirected
to, the original request’s scheme is used. If present, the scheme in
<code class="docutils literal notranslate"><span class="pre">expected_url</span></code> is the one used to make the comparisons to.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertHTMLEqual">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertHTMLEqual</span></span>(<em class="sig-param"><span class="n"><span class="pre">html1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L952"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertHTMLEqual" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the strings <code class="docutils literal notranslate"><span class="pre">html1</span></code> and <code class="docutils literal notranslate"><span class="pre">html2</span></code> are equal. The comparison
is based on HTML semantics. The comparison takes following things into
account:</p>
<ul class="simple">
<li><p>Whitespace before and after HTML tags is ignored.</p></li>
<li><p>All types of whitespace are considered equivalent.</p></li>
<li><p>All open tags are closed implicitly, e.g. when a surrounding tag is
closed or the HTML document ends.</p></li>
<li><p>Empty tags are equivalent to their self-closing version.</p></li>
<li><p>The ordering of attributes of an HTML element is not significant.</p></li>
<li><p>Boolean attributes (like <code class="docutils literal notranslate"><span class="pre">checked</span></code>) without an argument are equal to
attributes that equal in name and value (see the examples).</p></li>
<li><p>Text, character references, and entity references that refer to the same
character are equivalent.</p></li>
</ul>
<p>The following examples are valid tests and don’t raise any
<code class="docutils literal notranslate"><span class="pre">AssertionError</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">assertHTMLEqual</span><span class="p">(</span>
    <span class="s2">&quot;&lt;p&gt;Hello &lt;b&gt;&amp;#x27;world&amp;#x27;!&lt;/p&gt;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;&lt;p&gt;</span>
<span class="sd">        Hello   &lt;b&gt;&amp;#39;world&amp;#39;! &lt;/b&gt;</span>
<span class="sd">    &lt;/p&gt;&quot;&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">assertHTMLEqual</span><span class="p">(</span>
    <span class="s1">&#39;&lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot; id=&quot;id_accept_terms&quot; /&gt;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&lt;input id=&quot;id_accept_terms&quot; type=&quot;checkbox&quot; checked&gt;&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">html1</span></code> and <code class="docutils literal notranslate"><span class="pre">html2</span></code> must contain HTML. An <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> will be
raised if one of them cannot be parsed.</p>
<p>Output in case of error can be customized with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> argument.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertHTMLNotEqual">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertHTMLNotEqual</span></span>(<em class="sig-param"><span class="n"><span class="pre">html1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L976"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertHTMLNotEqual" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the strings <code class="docutils literal notranslate"><span class="pre">html1</span></code> and <code class="docutils literal notranslate"><span class="pre">html2</span></code> are <em>not</em> equal. The
comparison is based on HTML semantics. See
<a class="reference internal" href="#django.test.SimpleTestCase.assertHTMLEqual" title="django.test.SimpleTestCase.assertHTMLEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertHTMLEqual()</span></code></a> for details.</p>
<p><code class="docutils literal notranslate"><span class="pre">html1</span></code> and <code class="docutils literal notranslate"><span class="pre">html2</span></code> must contain HTML. An <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> will be
raised if one of them cannot be parsed.</p>
<p>Output in case of error can be customized with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> argument.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertXMLEqual">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertXMLEqual</span></span>(<em class="sig-param"><span class="n"><span class="pre">xml1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xml2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1060"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertXMLEqual" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the strings <code class="docutils literal notranslate"><span class="pre">xml1</span></code> and <code class="docutils literal notranslate"><span class="pre">xml2</span></code> are equal. The
comparison is based on XML semantics. Similarly to
<a class="reference internal" href="#django.test.SimpleTestCase.assertHTMLEqual" title="django.test.SimpleTestCase.assertHTMLEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertHTMLEqual()</span></code></a>, the comparison is
made on parsed content, hence only semantic differences are considered, not
syntax differences. When invalid XML is passed in any parameter, an
<code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> is always raised, even if both strings are identical.</p>
<p>XML declaration, document type, processing instructions, and comments are
ignored. Only the root element and its children are compared.</p>
<p>Output in case of error can be customized with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> argument.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertXMLNotEqual">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertXMLNotEqual</span></span>(<em class="sig-param"><span class="n"><span class="pre">xml1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xml2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1083"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertXMLNotEqual" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the strings <code class="docutils literal notranslate"><span class="pre">xml1</span></code> and <code class="docutils literal notranslate"><span class="pre">xml2</span></code> are <em>not</em> equal. The
comparison is based on XML semantics. See
<a class="reference internal" href="#django.test.SimpleTestCase.assertXMLEqual" title="django.test.SimpleTestCase.assertXMLEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertXMLEqual()</span></code></a> for details.</p>
<p>Output in case of error can be customized with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> argument.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertInHTML">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertInHTML</span></span>(<em class="sig-param"><span class="n"><span class="pre">needle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">haystack</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L989"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertInHTML" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the HTML fragment <code class="docutils literal notranslate"><span class="pre">needle</span></code> is contained in the <code class="docutils literal notranslate"><span class="pre">haystack</span></code>
once.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">count</span></code> integer argument is specified, then additionally the
number of <code class="docutils literal notranslate"><span class="pre">needle</span></code> occurrences will be strictly verified.</p>
<p>Whitespace in most cases is ignored, and attribute ordering is not
significant. See <a class="reference internal" href="#django.test.SimpleTestCase.assertHTMLEqual" title="django.test.SimpleTestCase.assertHTMLEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertHTMLEqual()</span></code></a> for more details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertNotInHTML">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertNotInHTML</span></span>(<em class="sig-param"><span class="n"><span class="pre">needle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">haystack</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1023"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertNotInHTML" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the HTML fragment <code class="docutils literal notranslate"><span class="pre">needle</span></code> is <em>not</em> contained in the
<code class="docutils literal notranslate"><span class="pre">haystack</span></code>.</p>
<p>Whitespace in most cases is ignored, and attribute ordering is not
significant. See <a class="reference internal" href="#django.test.SimpleTestCase.assertHTMLEqual" title="django.test.SimpleTestCase.assertHTMLEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertHTMLEqual()</span></code></a> for more details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertJSONEqual">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertJSONEqual</span></span>(<em class="sig-param"><span class="n"><span class="pre">raw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1026"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertJSONEqual" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the JSON fragments <code class="docutils literal notranslate"><span class="pre">raw</span></code> and <code class="docutils literal notranslate"><span class="pre">expected_data</span></code> are equal.
Usual JSON non-significant whitespace rules apply as the heavyweight is
delegated to the <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> library.</p>
<p>Output in case of error can be customized with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> argument.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.SimpleTestCase.assertJSONNotEqual">
<span class="sig-prename descclassname"><span class="pre">SimpleTestCase.</span></span><span class="sig-name descname"><span class="pre">assertJSONNotEqual</span></span>(<em class="sig-param"><span class="n"><span class="pre">raw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1043"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.SimpleTestCase.assertJSONNotEqual" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that the JSON fragments <code class="docutils literal notranslate"><span class="pre">raw</span></code> and <code class="docutils literal notranslate"><span class="pre">expected_data</span></code> are <em>not</em>
equal. See <a class="reference internal" href="#django.test.SimpleTestCase.assertJSONEqual" title="django.test.SimpleTestCase.assertJSONEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertJSONEqual()</span></code></a> for further details.</p>
<p>Output in case of error can be customized with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> argument.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.TransactionTestCase.assertQuerySetEqual">
<span class="sig-prename descclassname"><span class="pre">TransactionTestCase.</span></span><span class="sig-name descname"><span class="pre">assertQuerySetEqual</span></span>(<em class="sig-param"><span class="n"><span class="pre">qs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1285"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.TransactionTestCase.assertQuerySetEqual" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that a queryset <code class="docutils literal notranslate"><span class="pre">qs</span></code> matches a particular iterable of values
<code class="docutils literal notranslate"><span class="pre">values</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">transform</span></code> is provided, <code class="docutils literal notranslate"><span class="pre">values</span></code> is compared to a list produced by
applying <code class="docutils literal notranslate"><span class="pre">transform</span></code> to each member of <code class="docutils literal notranslate"><span class="pre">qs</span></code>.</p>
<p>By default, the comparison is also ordering dependent. If <code class="docutils literal notranslate"><span class="pre">qs</span></code> doesn’t
provide an implicit ordering, you can set the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter to
<code class="docutils literal notranslate"><span class="pre">False</span></code>, which turns the comparison into a <code class="docutils literal notranslate"><span class="pre">collections.Counter</span></code>
comparison. If the order is undefined (if the given <code class="docutils literal notranslate"><span class="pre">qs</span></code> isn’t ordered
and the comparison is against more than one ordered value), a
<code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised.</p>
<p>Output in case of error can be customized with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> argument.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.test.TransactionTestCase.assertNumQueries">
<span class="sig-prename descclassname"><span class="pre">TransactionTestCase.</span></span><span class="sig-name descname"><span class="pre">assertNumQueries</span></span>(<em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1301"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.TransactionTestCase.assertNumQueries" title="Link to this definition">¶</a></dt>
<dd><p>Asserts that when <code class="docutils literal notranslate"><span class="pre">func</span></code> is called with <code class="docutils literal notranslate"><span class="pre">*args</span></code> and <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> that
<code class="docutils literal notranslate"><span class="pre">num</span></code> database queries are executed.</p>
<p>If a <code class="docutils literal notranslate"><span class="pre">&quot;using&quot;</span></code> key is present in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> it is used as the database
alias for which to check the number of queries:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">assertNumQueries</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">my_function</span><span class="p">,</span> <span class="n">using</span><span class="o">=</span><span class="s2">&quot;non_default_db&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you wish to call a function with a <code class="docutils literal notranslate"><span class="pre">using</span></code> parameter you can do it by
wrapping the call with a <code class="docutils literal notranslate"><span class="pre">lambda</span></code> to add an extra parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">assertNumQueries</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">my_function</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="mi">7</span><span class="p">))</span>
</pre></div>
</div>
<p>You can also use this as a context manager:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertNumQueries</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">Person</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Aaron&quot;</span><span class="p">)</span>
    <span class="n">Person</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Daniel&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="s-tagging-tests">
<span id="s-topics-tagging-tests"></span><span id="tagging-tests"></span><span id="topics-tagging-tests"></span><h3>Tagging tests<a class="headerlink" href="#tagging-tests" title="Link to this heading">¶</a></h3>
<p>You can tag your tests so you can easily run a particular subset. For example,
you might label fast or slow tests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">tag</span>


<span class="k">class</span><span class="w"> </span><span class="nc">SampleTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;fast&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_fast</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="o">...</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;slow&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_slow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="o">...</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;slow&quot;</span><span class="p">,</span> <span class="s2">&quot;core&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_slow_but_core</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>You can also tag a test case class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;slow&quot;</span><span class="p">,</span> <span class="s2">&quot;core&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SampleTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>Subclasses inherit tags from superclasses, and methods inherit tags from their
class. Given:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SampleTestCaseChild</span><span class="p">(</span><span class="n">SampleTestCase</span><span class="p">):</span>
    <span class="nd">@tag</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">SampleTestCaseChild.test</span></code> will be labeled with <code class="docutils literal notranslate"><span class="pre">'slow'</span></code>, <code class="docutils literal notranslate"><span class="pre">'core'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'bar'</span></code>, and <code class="docutils literal notranslate"><span class="pre">'foo'</span></code>.</p>
<p>Then you can choose which tests to run. For example, to run only fast tests:</p>
<div class="console-block" id="console-block-2">
<input class="c-tab-unix" id="c-tab-2-unix" type="radio" name="console-2" checked>
<label for="c-tab-2-unix" title="Linux/macOS">&#xf17c/&#xf179</label>
<input class="c-tab-win" id="c-tab-2-win" type="radio" name="console-2">
<label for="c-tab-2-win" title="Windows">&#xf17a</label>
<section class="c-content-unix" id="c-content-2-unix">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>./manage.py<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--tag<span class="o">=</span>fast
</pre></div>
</div>
</section>
<section class="c-content-win" id="c-content-2-win">
<div class="highlight"><pre><span></span><span class="gp">...\&gt;</span> manage.py test --tag=fast
</pre></div>
</section>
</div>
<p>Or to run fast tests and the core one (even though it’s slow):</p>
<div class="console-block" id="console-block-3">
<input class="c-tab-unix" id="c-tab-3-unix" type="radio" name="console-3" checked>
<label for="c-tab-3-unix" title="Linux/macOS">&#xf17c/&#xf179</label>
<input class="c-tab-win" id="c-tab-3-win" type="radio" name="console-3">
<label for="c-tab-3-win" title="Windows">&#xf17a</label>
<section class="c-content-unix" id="c-content-3-unix">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>./manage.py<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--tag<span class="o">=</span>fast<span class="w"> </span>--tag<span class="o">=</span>core
</pre></div>
</div>
</section>
<section class="c-content-win" id="c-content-3-win">
<div class="highlight"><pre><span></span><span class="gp">...\&gt;</span> manage.py test --tag=fast --tag=core
</pre></div>
</section>
</div>
<p>You can also exclude tests by tag. To run core tests if they are not slow:</p>
<div class="console-block" id="console-block-4">
<input class="c-tab-unix" id="c-tab-4-unix" type="radio" name="console-4" checked>
<label for="c-tab-4-unix" title="Linux/macOS">&#xf17c/&#xf179</label>
<input class="c-tab-win" id="c-tab-4-win" type="radio" name="console-4">
<label for="c-tab-4-win" title="Windows">&#xf17a</label>
<section class="c-content-unix" id="c-content-4-unix">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>./manage.py<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--tag<span class="o">=</span>core<span class="w"> </span>--exclude-tag<span class="o">=</span>slow
</pre></div>
</div>
</section>
<section class="c-content-win" id="c-content-4-win">
<div class="highlight"><pre><span></span><span class="gp">...\&gt;</span> manage.py test --tag=core --exclude-tag=slow
</pre></div>
</section>
</div>
<p><a class="reference internal" href="../../../ref/django-admin/#cmdoption-test-exclude-tag"><code class="xref std std-option docutils literal notranslate"><span class="pre">test</span> <span class="pre">--exclude-tag</span></code></a> has precedence over <a class="reference internal" href="../../../ref/django-admin/#cmdoption-test-tag"><code class="xref std std-option docutils literal notranslate"><span class="pre">test</span> <span class="pre">--tag</span></code></a>, so if a
test has two tags and you select one of them and exclude the other, the test
won’t be run.</p>
</section>
</section>
<section id="s-testing-asynchronous-code">
<span id="s-async-tests"></span><span id="testing-asynchronous-code"></span><span id="async-tests"></span><h2>Testing asynchronous code<a class="headerlink" href="#testing-asynchronous-code" title="Link to this heading">¶</a></h2>
<p>If you merely want to test the output of your asynchronous views, the standard
test client will run them inside their own asynchronous loop without any extra
work needed on your part.</p>
<p>However, if you want to write fully-asynchronous tests for a Django project,
you will need to take several things into account.</p>
<p>Firstly, your tests must be <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code> methods on the test class (in order
to give them an asynchronous context). Django will automatically detect
any <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code> tests and wrap them so they run in their own event loop.</p>
<p>If you are testing from an asynchronous function, you must also use the
asynchronous test client. This is available as <code class="docutils literal notranslate"><span class="pre">django.test.AsyncClient</span></code>,
or as <code class="docutils literal notranslate"><span class="pre">self.async_client</span></code> on any test.</p>
<dl class="py class">
<dt class="sig sig-object py" id="django.test.AsyncClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AsyncClient</span></span>(<em class="sig-param"><span class="n"><span class="pre">enforce_csrf_checks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_request_exception</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">defaults</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/client.py#L1397"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.AsyncClient" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">AsyncClient</span></code> has the same methods and signatures as the synchronous (normal)
test client, with the following exceptions:</p>
<ul>
<li><p>In the initialization, arbitrary keyword arguments in <code class="docutils literal notranslate"><span class="pre">defaults</span></code> are added
directly into the ASGI scope.</p></li>
<li><p>Headers passed as <code class="docutils literal notranslate"><span class="pre">extra</span></code> keyword arguments should not have the <code class="docutils literal notranslate"><span class="pre">HTTP_</span></code>
prefix required by the synchronous client (see <a class="reference internal" href="#django.test.Client.get" title="django.test.Client.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get()</span></code></a>). For
example, here is how to set an HTTP <code class="docutils literal notranslate"><span class="pre">Accept</span></code> header:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">AsyncClient</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/customers/details/&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;fred&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">},</span> <span class="n">ACCEPT</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p>Using <code class="docutils literal notranslate"><span class="pre">AsyncClient</span></code> any method that makes a request must be awaited:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">test_my_thing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">async_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/some-url/&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<p>The asynchronous client can also call synchronous views; it runs through
Django’s <a class="reference internal" href="../../async/"><span class="doc">asynchronous request path</span></a>, which supports both.
Any view called through the <code class="docutils literal notranslate"><span class="pre">AsyncClient</span></code> will get an <code class="docutils literal notranslate"><span class="pre">ASGIRequest</span></code> object
for its <code class="docutils literal notranslate"><span class="pre">request</span></code> rather than the <code class="docutils literal notranslate"><span class="pre">WSGIRequest</span></code> that the normal client
creates.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you are using test decorators, they must be async-compatible to ensure
they work correctly. Django’s built-in decorators will behave correctly,
but third-party ones may appear to not execute (they will “wrap” the wrong
part of the execution flow and not your test).</p>
<p>If you need to use these decorators, then you should decorate your test
methods with <a class="reference internal" href="../../async/#asgiref.sync.async_to_sync" title="asgiref.sync.async_to_sync"><code class="xref py py-func docutils literal notranslate"><span class="pre">async_to_sync()</span></code></a> <em>inside</em> of them instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">asgiref.sync</span><span class="w"> </span><span class="kn">import</span> <span class="n">async_to_sync</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MyTests</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="nd">@mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
    <span class="nd">@async_to_sync</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">test_my_thing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
</div>
</section>
<section id="s-email-services">
<span id="s-topics-testing-email"></span><span id="email-services"></span><span id="topics-testing-email"></span><h2>Email services<a class="headerlink" href="#email-services" title="Link to this heading">¶</a></h2>
<p>If any of your Django views send email using <a class="reference internal" href="../../email/"><span class="doc">Django’s email
functionality</span></a>, you probably don’t want to send email each time
you run a test using that view. For this reason, Django’s test runner
automatically redirects all Django-sent email to a dummy outbox. This lets you
test every aspect of sending email – from the number of messages sent to the
contents of each message – without actually sending the messages.</p>
<p>The test runner accomplishes this by transparently replacing the normal
email backend with a testing backend.
(Don’t worry – this has no effect on any other email senders outside of
Django, such as your machine’s mail server, if you’re running one.)</p>
<dl class="py data">
<dt class="sig sig-object py" id="django.core.mail.django.core.mail.outbox">
<span class="sig-prename descclassname"><span class="pre">django.core.mail.</span></span><span class="sig-name descname"><span class="pre">outbox</span></span><a class="headerlink" href="#django.core.mail.django.core.mail.outbox" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>During test running, each outgoing email is saved in
<code class="docutils literal notranslate"><span class="pre">django.core.mail.outbox</span></code>. This is a list of all
<a class="reference internal" href="../../email/#django.core.mail.EmailMessage" title="django.core.mail.EmailMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailMessage</span></code></a> instances that have been sent. The
<code class="docutils literal notranslate"><span class="pre">outbox</span></code> attribute is a special attribute that is created <em>only</em> when the
<code class="docutils literal notranslate"><span class="pre">locmem</span></code> email backend is used. It doesn’t normally exist as part of the
<a class="reference internal" href="../../email/#module-django.core.mail" title="django.core.mail: Helpers to easily send email."><code class="xref py py-mod docutils literal notranslate"><span class="pre">django.core.mail</span></code></a> module and you can’t import it directly. The code below
shows how to access this attribute correctly.</p>
<p>Here’s an example test that examines <code class="docutils literal notranslate"><span class="pre">django.core.mail.outbox</span></code> for length
and contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">mail</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span>


<span class="k">class</span><span class="w"> </span><span class="nc">EmailTest</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_send_email</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Send message.</span>
        <span class="n">mail</span><span class="o">.</span><span class="n">send_mail</span><span class="p">(</span>
            <span class="s2">&quot;Subject here&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Here is the message.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;from@example.com&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;to@example.com&quot;</span><span class="p">],</span>
            <span class="n">fail_silently</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Test that one message has been sent.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mail</span><span class="o">.</span><span class="n">outbox</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Verify that the subject of the first message is correct.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mail</span><span class="o">.</span><span class="n">outbox</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subject</span><span class="p">,</span> <span class="s2">&quot;Subject here&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>As noted <a class="reference internal" href="#emptying-test-outbox"><span class="std std-ref">previously</span></a>, the test outbox is emptied
at the start of every test in a Django <code class="docutils literal notranslate"><span class="pre">*TestCase</span></code>. To empty the outbox
manually, assign the empty list to <code class="docutils literal notranslate"><span class="pre">mail.outbox</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">mail</span>

<span class="c1"># Empty the test outbox</span>
<span class="n">mail</span><span class="o">.</span><span class="n">outbox</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
</section>
<section id="s-management-commands">
<span id="s-topics-testing-management-commands"></span><span id="management-commands"></span><span id="topics-testing-management-commands"></span><h2>Management Commands<a class="headerlink" href="#management-commands" title="Link to this heading">¶</a></h2>
<p>Management commands can be tested with the
<a class="reference internal" href="../../../ref/django-admin/#django.core.management.call_command" title="django.core.management.call_command"><code class="xref py py-func docutils literal notranslate"><span class="pre">call_command()</span></code></a> function. The output can be
redirected into a <code class="docutils literal notranslate"><span class="pre">StringIO</span></code> instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">io</span><span class="w"> </span><span class="kn">import</span> <span class="n">StringIO</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.core.management</span><span class="w"> </span><span class="kn">import</span> <span class="n">call_command</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestCase</span>


<span class="k">class</span><span class="w"> </span><span class="nc">ClosepollTest</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_command_output</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
        <span class="n">call_command</span><span class="p">(</span><span class="s2">&quot;closepoll&quot;</span><span class="p">,</span> <span class="n">poll_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">out</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s1">&#39;Successfully closed poll &quot;1&quot;&#39;</span><span class="p">,</span> <span class="n">out</span><span class="o">.</span><span class="n">getvalue</span><span class="p">())</span>
</pre></div>
</div>
</section>
<section id="s-skipping-tests">
<span id="s-id3"></span><span id="skipping-tests"></span><span id="id3"></span><h2>Skipping tests<a class="headerlink" href="#skipping-tests" title="Link to this heading">¶</a></h2>
<p>The unittest library provides the <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.skipIf" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;skipIf</span></code></a> and
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.skipUnless" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;skipUnless</span></code></a> decorators to allow you to skip tests
if you know ahead of time that those tests are going to fail under certain
conditions.</p>
<p>For example, if your test requires a particular optional library in order to
succeed, you could decorate the test case with <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.skipIf" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">&#64;skipIf</span></code></a>. Then, the test runner will report that the test wasn’t
executed and why, instead of failing the test or omitting the test altogether.</p>
<p>To supplement these test skipping behaviors, Django provides two
additional skip decorators. Instead of testing a generic boolean,
these decorators check the capabilities of the database, and skip the
test if the database doesn’t support a specific named feature.</p>
<p>The decorators use a string identifier to describe database features.
This string corresponds to attributes of the database connection
features class. See
<a class="extlink-source reference external" href="https://github.com/django/django/blob/main/django/db/backends/base/features.py">django.db.backends.base.features.BaseDatabaseFeatures class</a> for a full list of database features
that can be used as a basis for skipping tests.</p>
<dl class="py function">
<dt class="sig sig-object py" id="django.test.skipIfDBFeature">
<span class="sig-name descname"><span class="pre">skipIfDBFeature</span></span>(<em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">feature_name_strings</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1620"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.skipIfDBFeature" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>Skip the decorated test or <code class="docutils literal notranslate"><span class="pre">TestCase</span></code> if all of the named database features
are supported.</p>
<p>For example, the following test will not be executed if the database
supports transactions (e.g., it would <em>not</em> run under PostgreSQL, but
it would under MySQL with MyISAM tables):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyTests</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="nd">@skipIfDBFeature</span><span class="p">(</span><span class="s2">&quot;supports_transactions&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_transaction_behavior</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># ... conditional test code</span>
        <span class="k">pass</span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="django.test.skipUnlessDBFeature">
<span class="sig-name descname"><span class="pre">skipUnlessDBFeature</span></span>(<em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">feature_name_strings</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/6.0.x/django/test/testcases.py#L1629"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#django.test.skipUnlessDBFeature" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>Skip the decorated test or <code class="docutils literal notranslate"><span class="pre">TestCase</span></code> if any of the named database features
are <em>not</em> supported.</p>
<p>For example, the following test will only be executed if the database
supports transactions (e.g., it would run under PostgreSQL, but <em>not</em>
under MySQL with MyISAM tables):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyTests</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="nd">@skipUnlessDBFeature</span><span class="p">(</span><span class="s2">&quot;supports_transactions&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_transaction_behavior</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># ... conditional test code</span>
        <span class="k">pass</span>
</pre></div>
</div>
</section>
</section>

    </article>
  

  
    <nav class="browse-horizontal" aria-labelledby="browse-horizontal-header">
      <span id="browse-horizontal-header" class="visuallyhidden">Previous page and next page</span>
      
        <div class="left"><a rel="prev" href="../overview/"><i class="icon icon-chevron-left"></i> Writing and running tests</a></div>
      
      
        <div class="right"><a rel="next" href="../advanced/">Advanced testing topics <i class="icon icon-chevron-right"></i></a></div>
      
    </nav>
  


        <a href="#top" class="backtotop"><i class="icon icon-chevron-up"></i> Back to Top</a>
      </main>

      
  <div role="complementary">
    <h2 class="visuallyhidden" id="aside-header">Additional Information</h2>

    


  <div class="fundraising-sidebar">
    <h3>Support Django!</h3>

    <div class="small-heart">
      <img src="https://static.djangoproject.com/img/fundraising-heart.cd6bb84ffd33.svg" alt="Support Django!" />
    </div>

    <div class="small-cta">
      <ul class="list-links-small">
        <li><a href="https://www.djangoproject.com/fundraising/">
          Solution Now Law Firm donated to the Django Software Foundation to support Django development. Donate today!
        </a></li>
      </ul>
    </div>
  </div>



    
      <h3>Contents</h3>
      
        <ul>
<li><a class="reference internal" href="#">Testing tools</a><ul>
<li><a class="reference internal" href="#the-test-client">The test client</a><ul>
<li><a class="reference internal" href="#overview-and-a-quick-example">Overview and a quick example</a></li>
<li><a class="reference internal" href="#making-requests">Making requests</a></li>
<li><a class="reference internal" href="#testing-responses">Testing responses</a></li>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li><a class="reference internal" href="#persistent-state">Persistent state</a></li>
<li><a class="reference internal" href="#setting-the-language">Setting the language</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#provided-test-case-classes">Provided test case classes</a><ul>
<li><a class="reference internal" href="#simpletestcase"><code class="docutils literal notranslate"><span class="pre">SimpleTestCase</span></code></a></li>
<li><a class="reference internal" href="#transactiontestcase"><code class="docutils literal notranslate"><span class="pre">TransactionTestCase</span></code></a></li>
<li><a class="reference internal" href="#testcase"><code class="docutils literal notranslate"><span class="pre">TestCase</span></code></a></li>
<li><a class="reference internal" href="#liveservertestcase"><code class="docutils literal notranslate"><span class="pre">LiveServerTestCase</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#test-cases-features">Test cases features</a><ul>
<li><a class="reference internal" href="#default-test-client">Default test client</a></li>
<li><a class="reference internal" href="#customizing-the-test-client">Customizing the test client</a></li>
<li><a class="reference internal" href="#fixture-loading">Fixture loading</a></li>
<li><a class="reference internal" href="#urlconf-configuration">URLconf configuration</a></li>
<li><a class="reference internal" href="#multi-database-support">Multi-database support</a></li>
<li><a class="reference internal" href="#overriding-settings">Overriding settings</a></li>
<li><a class="reference internal" href="#isolating-apps">Isolating apps</a></li>
<li><a class="reference internal" href="#emptying-the-test-outbox">Emptying the test outbox</a></li>
<li><a class="reference internal" href="#assertions">Assertions</a></li>
<li><a class="reference internal" href="#tagging-tests">Tagging tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing-asynchronous-code">Testing asynchronous code</a></li>
<li><a class="reference internal" href="#email-services">Email services</a></li>
<li><a class="reference internal" href="#management-commands">Management Commands</a></li>
<li><a class="reference internal" href="#skipping-tests">Skipping tests</a></li>
</ul>
</li>
</ul>

      
    

    
      <nav aria-labelledby="browse-header">
        <h3 id="browse-header">Browse</h3>
        <ul>
          
            
              <li>Prev: <a rel="prev" href="../overview/">Writing and running tests</a></li>
            
            
              <li>Next: <a rel="next" href="../advanced/">Advanced testing topics</a></li>
            
            <li><a href="https://docs.djangoproject.com/en/6.0/contents/">Table of contents</a></li>
            
              <li><a href="https://docs.djangoproject.com/en/6.0/genindex/">General Index</a></li>
            
              <li><a href="https://docs.djangoproject.com/en/6.0/py-modindex/">Python Module Index</a></li>
            
          
        </ul>
      </nav>
    

    
      <nav aria-labelledby="breadcrumbs-header">
        <h3 id="breadcrumbs-header">You are here:</h3>
        <ul>
          <li>
            <a href="https://docs.djangoproject.com/en/6.0/">Django 6.0 documentation</a>
            
              <ul><li><a href="../../">Using Django</a>
            
              <ul><li><a href="../">Testing in Django</a>
            
            <ul><li>Testing tools</li></ul>
            </li></ul></li></ul>
          </li>
        </ul>
      </nav>
    

    
      <section aria-labelledby="getting-help-sidebar">
        <h3 id="getting-help-sidebar">Getting help</h3>
        <dl class="list-links">
          <dt><a href="https://docs.djangoproject.com/en/6.0/faq/">FAQ</a></dt>
          <dd>Try the FAQ — it's got answers to many common questions.</dd>

          <dt><a href="https://docs.djangoproject.com/en/stable/genindex/">Index</a>, <a href="https://docs.djangoproject.com/en/stable/py-modindex/">Module Index</a>, or <a href="https://docs.djangoproject.com/en/stable/contents/">Table of Contents</a></dt>
          <dd>Handy when looking for specific information.</dd>

          <dt><a href="https://chat.djangoproject.com">Django Discord Server</a></dt>
          <dd>Join the Django Discord Community.</dd>

          <dt><a href="https://forum.djangoproject.com/">Official Django Forum</a></dt>
          <dd>Join the community on the Django Forum.</dd>

          <dt><a href="https://code.djangoproject.com/">Ticket tracker</a></dt>
          <dd>Report bugs with Django or Django documentation in our ticket tracker.</dd>
        </dl>
      </section>
    

    
      <section aria-labelledby="links-wrapper-header">
        <h3 id="links-wrapper-header">Download:</h3>
        <p>
          Offline (Django 6.0):
          <a href="https://media.djangoproject.com/docs/django-docs-6.0-en.zip">HTML</a> |
          <a href="https://media.readthedocs.org/pdf/django/6.0.x/django.pdf">PDF</a> |
          <a href="https://media.readthedocs.org/epub/django/6.0.x/django.epub">ePub</a>
          <br>
          <span class="quiet">
            Provided by <a href="https://readthedocs.org/">Read the Docs</a>.
          </span>
        </p>
      </section>
    

    
  <div class="corporate-members">
    <h3>Diamond and Platinum Members</h3>
    
      <div class="clearfix">
        <div class="member-logo">
          <a href="https://sentry.io/for/django/" title="Sentry">
            <img src="https://media.djangoproject.com/cache/7a/f9/7af9c770dc49465739a82c91a0eb3d51.png" alt="Sentry" />
          </a>
        </div>
        <div class="small-cta">
          <ul class="list-links-small">
            <li><strong>Sentry</strong></li>
            <li><a href="https://sentry.io/for/django/" title="Sentry">
              Monitor your Django Code
Resolve performance bottlenecks and errors using monitoring, replays, logs and Seer an AI agent for debugging.
            </a></li>
          </ul>
        </div>
      </div>
    
      <div class="clearfix">
        <div class="member-logo">
          <a href="https://jb.gg/ybja10" title="JetBrains">
            <img src="https://media.djangoproject.com/cache/c0/ea/c0ea128467983e64aab91cd27e7918c0.png" alt="JetBrains" />
          </a>
        </div>
        <div class="small-cta">
          <ul class="list-links-small">
            <li><strong>JetBrains</strong></li>
            <li><a href="https://jb.gg/ybja10" title="JetBrains">
              JetBrains delivers intelligent software solutions that make developers more productive by simplifying their challenging tasks, automating the routine, and helping them adopt the best development practices. PyCharm is the Python IDE for Professional Developers by JetBrains providing a complete set of tools for productive Python, Web and scientific development.
            </a></li>
          </ul>
        </div>
      </div>
    
  </div>


  </div>

      

    </div>

     
     

    
    
    

    <!-- SVGs -->
    <svg xmlns="http://www.w3.org/2000/svg">
      <symbol viewBox="0 0 24 24" id="icon-auto"><path d="M0 0h24v24H0z" fill="currentColor"/><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2V4a8 8 0 1 0 0 16z"/></symbol>
      <symbol viewBox="0 0 24 24" id="icon-moon"><path d="M0 0h24v24H0z" fill="currentColor"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol>
      <symbol viewBox="0 0 24 24" id="icon-sun"><path d="M0 0h24v24H0z" fill="currentColor"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol>
    </svg>
    <!-- END SVGs -->

    
      

<footer>
  <div class="subfooter">
    <div class="container">
      <h2 class="visuallyhidden">Django Links</h2>
      <div class="column-container">
        <div class="col-learn-more">
          <h3>Learn More</h3>
          <ul>
            <li><a href="https://www.djangoproject.com/start/overview/">About Django</a></li>
            
            <li><a href="https://www.djangoproject.com/start/">Getting Started with Django</a></li>
            <li><a href="https://www.djangoproject.com/foundation/teams/">Team Organization</a></li>
            <li><a href="https://www.djangoproject.com/foundation/">Django Software Foundation</a></li>
            <li><a href="https://www.djangoproject.com/conduct/">Code of Conduct</a></li>
            <li><a href="https://www.djangoproject.com/diversity/">Diversity Statement</a></li>
          </ul>
        </div>

        <div class="col-get-involved">
          <h3>Get Involved</h3>
          <ul>
            <li><a href="https://www.djangoproject.com/community/">Join a Group</a></li>
            <li><a href="https://docs.djangoproject.com/en/dev/internals/contributing/">Contribute
              to Django</a></li>
            <li><a
              href="https://docs.djangoproject.com/en/dev/internals/contributing/bugs-and-features/">Submit
              a Bug</a></li>
            <li><a
              href="https://docs.djangoproject.com/en/dev/internals/security/#reporting-security-issues">Report
              a Security Issue</a></li>
            <li><a href="https://www.djangoproject.com/foundation/individual-members/">Individual membership</a></li>
          </ul>
        </div>

        <div class="col-get-help">
          <h3>Get Help</h3>
          <ul>
            <li><a href="https://docs.djangoproject.com/en/stable/faq/">Getting Help FAQ</a>
            </li>
            <li><a href="https://chat.djangoproject.com" target="_blank">Django Discord</a></li>
            <li><a href="https://forum.djangoproject.com/" target="_blank">Official Django Forum</a></li>
          </ul>
        </div>

        <div class="col-follow-us">
          <h3>Follow Us</h3>
          <ul>
            <li><a href="https://github.com/django">GitHub</a></li>
            <li><a href="https://x.com/djangoproject">X</a></li>
            <li><a href="https://fosstodon.org/@django" rel="me">Fediverse (Mastodon)</a></li>
            <li><a href="https://bsky.app/profile/djangoproject.com">Bluesky</a></li>
            <li><a href="https://www.linkedin.com/company/django-software-foundation">LinkedIn</a></li>
            <li><a href="https://www.djangoproject.com/rss/weblog/">News RSS</a></li>
          </ul>
        </div>

        <div class="col-support-us">
          <h3>Support Us</h3>
          <ul>
            <li><a href="https://www.djangoproject.com/fundraising/">Sponsor Django</a></li>
            <li><a href="https://www.djangoproject.com/foundation/corporate-members/">Corporate membership</a></li>
            <li><a href="https://django.threadless.com/" target="_blank">Official merchandise store</a></li>
            <li><a href="https://www.djangoproject.com/fundraising/#benevity-giving">Benevity Workplace Giving Program</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="footer">
    <div class="container">
      <div class="footer-logo">
        <a class="logo" href="https://www.djangoproject.com/">Django</a>
      </div>
      <ul class="thanks">
        <li>
          <span>Hosting by</span> <a class="in-kind-donors" href="https://www.djangoproject.com/fundraising/#in-kind-donors">In-kind
            donors</a>
        </li>
        <li class="design"><span>Design by</span> <a class="threespot" href="https://www.threespot.com">Threespot</a>
          <span class="ampersand">&amp;</span> <a class="andrevv" href="http://andrevv.com/">andrevv</a></li>
      </ul>
      <p class="copyright">&copy; 2005-2025
        <a href="https://www.djangoproject.com/foundation/"> Django Software
          Foundation</a> and individual contributors. Django is a
        <a href="https://www.djangoproject.com/trademarks/">registered
          trademark</a> of the Django Software Foundation.
      </p>
    </div>
  </div>

</footer>

    

    
  


    
      
      <script>
        function extless(input) {
          return input.replace(/(.*)\.[^.]+$/, '$1');
        }
        var require = {
          shim: {
            'jquery': [],
            'stripe': {
              exports: 'Stripe'
            }
          },
          paths: {
            "jquery": extless("https://static.djangoproject.com/js/lib/jquery.min.5790ead7ad3b.js"),
            "mod/list-collapsing": extless("https://static.djangoproject.com/js/mod/list-collapsing.2d844151b2ec.js"),
            "mod/stripe-change-card": extless("https://static.djangoproject.com/js/mod/stripe-change-card.eaa0afc324e9.js"),
            "mod/switch-dark-mode": extless("https://static.djangoproject.com/js/mod/switch-dark-mode.139625c684db.js"),
            "stripe-checkout": "https://checkout.stripe.com/checkout",
            "stripe": "https://js.stripe.com/v3/?" // ? needed due to require.js
          }
        };
      </script>
      <script data-main="https://static.djangoproject.com/js/main.8677b21133eb.js" src="https://static.djangoproject.com/js/lib/require.177879fbe7dd.js"></script>
      <script src="https://static.djangoproject.com/js/djangoproject.15c016c8c3a7.js"></script>
    
  </body>
</html>
